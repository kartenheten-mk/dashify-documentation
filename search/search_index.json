{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"],"fields":{"title":{"boost":1000.0},"text":{"boost":1.0},"tags":{"boost":1000000.0}}},"docs":[{"location":"","title":"Home","text":""},{"location":"#dashify-documentation","title":"Dashify Documentation","text":"<p>Welcome to the Dashify documentation. This guide provides comprehensive information on how to configure, use, and extend the Dashify application.</p>"},{"location":"#table-of-contents","title":"Table of Contents","text":"<ol> <li>Configuration<ul> <li>Detailed explanation of the <code>config.json</code> file structure and global settings.</li> </ul> </li> <li>Widgets<ul> <li>A complete reference for all available widgets, their properties, and configuration examples.</li> </ul> </li> <li>Dashboards<ul> <li>Instructions on creating and managing dashboards, including layout and structure.</li> </ul> </li> <li>Data Sources<ul> <li>How to connect to WFS data sources, configure shared sources, and handle authentication.</li> </ul> </li> <li>Filters &amp; Functions<ul> <li>In-depth guide to using filters (Time, Numeric, Atlas, Spatial, Column) and helper functions (CQL, Date Expressions).</li> </ul> </li> </ol>"},{"location":"#introduction","title":"Introduction","text":"<p>Dashify is a configurable application for visualizing and analyzing WFS (Web Feature Service) data from GeoServer. It allows users to create multiple dashboards with interactive maps, tables, charts, and counters, all driven by a simple JSON configuration file.</p> <p>Key Features:</p> <ul> <li>Multi-Dashboard Support: Host multiple dashboards accessible from a persistent sidebar.</li> <li>JSON Configuration: Configure dashboards entirely through JSON files.</li> <li>Interactive Visualization: display GeoJSON features on Leaflet maps with clustering support.</li> <li>Data Analysis: Sortable tables, feature counts, area calculations, and statistical summaries.</li> <li>Advanced Filtering: Interactive time sliders, numeric range sliders, spatial drawing tools, and multi-source atlas filters.</li> <li>Dynamic Queries: Support for CQL filters and dynamic date expressions (e.g., <code>{{date:now-7d}}</code>).</li> </ul>"},{"location":"#quick-start","title":"Quick Start","text":""},{"location":"#installation","title":"Installation","text":"<ol> <li>Clone the repository.</li> <li> <p>Install dependencies:</p> <pre><code>npm install\n</code></pre> </li> </ol>"},{"location":"#development","title":"Development","text":"<p>Start the development server:</p> <pre><code>npm run dev\n</code></pre> <p>The application will be available at <code>http://localhost:5173</code>.</p>"},{"location":"#build-for-production","title":"Build for Production","text":"<p>Build the application for production:</p> <pre><code>npm run build\n</code></pre> <p>The built files will be located in the <code>dist</code> directory.</p>"},{"location":"#preview-production-build","title":"Preview Production Build","text":"<p>Preview the production build locally:</p> <pre><code>npm run preview\n</code></pre>"},{"location":"#project-structure","title":"Project Structure","text":"<pre><code>dashify/\n\u251c\u2500\u2500 public/\n\u2502   \u2514\u2500\u2500 config/\n\u2502       \u2514\u2500\u2500 config.json            # Main application configuration\n\u251c\u2500\u2500 docs/                          # Documentation files (you are here)\n\u251c\u2500\u2500 src/\n\u2502   \u251c\u2500\u2500 components/                # React components\n\u2502   \u2502   \u251c\u2500\u2500 Dashboard.tsx          # Main dashboard logic\n\u2502   \u2502   \u251c\u2500\u2500 Map/                   # Map widget and controls\n\u2502   \u2502   \u251c\u2500\u2500 Table/                 # Table widget\n\u2502   \u2502   \u2514\u2500\u2500 Widgets/               # Sidebar widgets (Counter, Area, etc.)\n\u2502   \u251c\u2500\u2500 services/                  # Business logic (WFS, CQL, Atlas)\n\u2502   \u251c\u2500\u2500 hooks/                     # Custom React hooks\n\u2502   \u251c\u2500\u2500 types/                     # TypeScript type definitions\n\u2502   \u2514\u2500\u2500 App.tsx                    # Application entry point\n\u2514\u2500\u2500 README.md                      # Project overview\n</code></pre>"},{"location":"dashboards/","title":"Dashboards","text":""},{"location":"dashboards/#dashboards","title":"Dashboards","text":"<p>A dashboard in Dashify is a collection of widgets connected to a specific data source. Users can switch between dashboards using the sidebar navigation.</p>"},{"location":"dashboards/#dashboard-structure","title":"Dashboard Structure","text":"<p>Dashboards are defined as objects within the <code>dashboards</code> array in <code>public/config/config.json</code>. Each dashboard consists of:</p> <ul> <li><code>id</code>: A unique identifier (used in the URL).</li> <li><code>dashboard</code>: Metadata (title, description, icon).</li> <li><code>dataSource</code>: The WFS data source configuration (see Data Sources).</li> <li><code>widgets</code>: An array of widget configurations (see Widgets).</li> </ul>"},{"location":"dashboards/#json-structure","title":"JSON Structure","text":"<pre><code>{\n  \"id\": \"dashboard-unique-id\",\n  \"dashboard\": {\n    \"title\": \"Dashboard Title\",\n    \"description\": \"Short description shown in the header.\",\n    \"icon\": \"\ud83d\udcca\" // Optional emoji or icon class\n  },\n  \"dataSource\": {\n    // ... data source config\n  },\n  \"widgets\": [\n    // ... widget configs\n  ]\n}\n</code></pre>"},{"location":"dashboards/#layout-system","title":"Layout System","text":"<p>The dashboard layout is fixed but responsive and adjustable.</p> <ol> <li>Map Area (Central): The <code>map</code> widget always occupies the main central area of the screen.</li> <li>Table Panel (Bottom): The <code>table</code> widget is always placed at the bottom. It is collapsible and vertically resizable.</li> <li>Sidebar Panel (Right): All other widgets (Counter, Charts, Statistics) are stacked vertically in the right sidebar. This panel is collapsible and horizontally resizable.</li> </ol>"},{"location":"dashboards/#widget-placement-rules","title":"Widget Placement Rules","text":"<ul> <li>If a <code>map</code> widget is present in the <code>widgets</code> array, it goes to the central area.</li> <li>If a <code>table</code> widget is present, it goes to the bottom panel.</li> <li>All other widgets are rendered in the right sidebar in the order they appear in the <code>widgets</code> array.</li> </ul>"},{"location":"dashboards/#creating-a-new-dashboard","title":"Creating a New Dashboard","text":"<p>To add a new dashboard:</p> <ol> <li>Open <code>public/config/config.json</code>.</li> <li>Locate the <code>dashboards</code> array.</li> <li>Add a new dashboard object to the array.</li> </ol> <p>Example:</p> <pre><code>{\n  \"dashboards\": [\n    {\n      \"id\": \"forest-monitoring\",\n      \"dashboard\": {\n        \"title\": \"Forest Monitoring\",\n        \"description\": \"Real-time forest harvest notifications\",\n        \"icon\": \"\ud83c\udf32\"\n      },\n      \"dataSource\": {\n        \"source\": \"geoserver-forest\", // Assuming a shared source\n        \"typeName\": \"forest:harvests\"\n      },\n      \"widgets\": [\n        {\n          \"type\": \"map\",\n          \"title\": \"Harvest Map\",\n          \"dataSource\": \"forest-monitoring\",\n          \"options\": { \"center\": [62.0, 14.0], \"zoom\": 6 }\n        },\n        {\n          \"type\": \"counter\",\n          \"title\": \"Total Harvests\",\n          \"dataSource\": \"forest-monitoring\",\n          \"options\": { \"label\": \"Notifications\" }\n        },\n        {\n          \"type\": \"table\",\n          \"title\": \"Details\",\n          \"dataSource\": \"forest-monitoring\",\n          \"options\": { \"pageSize\": 20 }\n        }\n      ]\n    }\n  ]\n}\n</code></pre>"},{"location":"dashboards/#dashboard-routing","title":"Dashboard Routing","text":"<p>Each dashboard is accessible via a unique URL based on its <code>id</code>:</p> <p><code>http://&lt;domain&gt;/dashboard/&lt;id&gt;</code></p> <p>For example, the dashboard above would be at <code>/dashboard/forest-monitoring</code>.</p>"},{"location":"datasources/","title":"Data Sources","text":""},{"location":"datasources/#data-sources","title":"Data Sources","text":"<p>Dashify relies on OGC Web Feature Service (WFS) endpoints to fetch and interact with geospatial data. Data sources can be configured globally (Shared) or per-dashboard (Inline).</p>"},{"location":"datasources/#supported-protocol","title":"Supported Protocol","text":"<ul> <li>WFS: Versions <code>1.0.0</code>, <code>1.1.0</code>, <code>2.0.0</code> (default <code>1.0.0</code>).</li> <li>Format: <code>application/json</code> (GeoJSON).</li> </ul>"},{"location":"datasources/#shared-data-sources","title":"Shared Data Sources","text":"<p>Defining data sources in the top-level <code>dataSources</code> object allows you to reuse connection details (URL, version) across multiple dashboards.</p>"},{"location":"datasources/#configuration-datasources","title":"Configuration (<code>dataSources</code>)","text":"Property Type Description Required <code>name</code> <code>string</code> Display name. Yes <code>wfsEndpoint</code> <code>string</code> The base URL of the WFS service. Yes <code>version</code> <code>string</code> WFS version. No (Default: \"1.0.0\") <code>outputFormat</code> <code>string</code> Response format. No (Default: \"application/json\") <p>Example:</p> <pre><code>{\n  \"dataSources\": {\n    \"geoserver-prod\": {\n      \"name\": \"Production GeoServer\",\n      \"wfsEndpoint\": \"https://geoserver.example.com/geoserver/ows\",\n      \"version\": \"1.0.0\",\n      \"outputFormat\": \"application/json\"\n    }\n  }\n}\n</code></pre>"},{"location":"datasources/#using-data-sources-in-dashboards","title":"Using Data Sources in Dashboards","text":"<p>Within a dashboard configuration, the <code>dataSource</code> object connects the dashboard to a specific layer.</p>"},{"location":"datasources/#reference-mode-recommended","title":"Reference Mode (Recommended)","text":"<p>Reference a shared data source by its key using the <code>source</code> property.</p> <pre><code>\"dataSource\": {\n  \"source\": \"geoserver-prod\",\n  \"typeName\": \"workspace:layer_name\",\n  \"cqlFilter\": \"status='active'\", // Optional server-side filter\n  \"maxFeatures\": 1000 // Limit features\n}\n</code></pre>"},{"location":"datasources/#inline-mode-legacy","title":"Inline Mode (Legacy)","text":"<p>Define the full connection details directly in the dashboard.</p> <pre><code>\"dataSource\": {\n  \"name\": \"My Data Source\",\n  \"wfsEndpoint\": \"https://geoserver.example.com/geoserver/ows\",\n  \"typeName\": \"workspace:layer_name\",\n  \"version\": \"1.0.0\",\n  \"outputFormat\": \"application/json\"\n}\n</code></pre>"},{"location":"datasources/#dashboard-data-source-options","title":"Dashboard Data Source Options","text":"<p>Regardless of the mode, the following options are available to refine the data fetching:</p> Property Type Default Description <code>typeName</code> <code>string</code> - The specific layer name (e.g., <code>workspace:layer</code>). <code>cqlFilter</code> <code>string</code> - OGC CQL filter to apply server-side. <code>maxFeatures</code> <code>number</code> - Maximum number of features to fetch. <code>refreshInterval</code> <code>number</code> - Auto-refresh interval in seconds. <code>geometryField</code> <code>string</code> <code>geom</code> Name of the geometry column. <code>useUtcDates</code> <code>boolean</code> <code>false</code> Parse dates as UTC instead of local time. <code>timeFilter</code> <code>TimeFilterConfig</code> - Configuration for the time slider (see Filters). <code>numericFilter</code> <code>NumericFilterConfig</code> - Configuration for the numeric slider (see Filters). <code>atlasFilter</code> <code>AtlasFilterConfig</code> - Configuration for the atlas/area filter (see Filters)."},{"location":"datasources/#authentication","title":"Authentication","text":"<p>Authentication is handled via the browser. If your WFS endpoint requires authentication:</p> <ol> <li>Basic Auth: Include credentials in the URL if supported (e.g., <code>https://user:pass@geoserver...</code>).</li> <li>Cookies/Session: If the dashboard is hosted on the same domain or behind a proxy that handles auth, the browser will manage cookies automatically.</li> <li>CORS: Ensure your WFS server allows Cross-Origin Resource Sharing (CORS) from the dashboard's domain.</li> </ol>"},{"location":"datasources/#connection-issues","title":"Connection Issues","text":"<ul> <li>CORS Error: Check browser console. The WFS server must return <code>Access-Control-Allow-Origin</code> headers.</li> <li>Mixed Content: If the dashboard is served via HTTPS, the WFS endpoint must also be HTTPS.</li> </ul>"},{"location":"configuration/","title":"Overview","text":""},{"location":"configuration/#configuration","title":"Configuration","text":"<p>Dashify is entirely configured via a JSON file located at <code>public/config/config.json</code>. This file defines the application's appearance, available data sources, map base layers, and the structure of each dashboard.</p>"},{"location":"configuration/#file-structure","title":"File Structure","text":"<p>The configuration file is a JSON object with the following top-level keys:</p> <ul> <li><code>app</code>: Global application settings (name, logo).</li> <li><code>mapSources</code>: Definitions for map base layers (WMS, Tile).</li> <li><code>dataSources</code>: Shared WFS data source definitions.</li> <li><code>dashboards</code>: An array of dashboard configurations.</li> </ul>"},{"location":"configuration/#example-structure","title":"Example Structure","text":"<pre><code>{\n  \"app\": {\n    \"name\": \"My Dashboard App\",\n    \"logo\": \"/logo.png\"\n  },\n  \"mapSources\": {\n    \"osm\": {\n      \"type\": \"tile\",\n      \"url\": \"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png\",\n      \"attribution\": \"&amp;copy; OpenStreetMap contributors\"\n    }\n  },\n  \"dataSources\": {\n    \"geoserver1\": {\n      \"name\": \"Main GeoServer\",\n      \"wfsEndpoint\": \"https://geoserver.example.com/geoserver/ows\",\n      \"version\": \"1.0.0\",\n      \"outputFormat\": \"application/json\"\n    }\n  },\n  \"dashboards\": [\n    // Dashboard configurations...\n  ]\n}\n</code></pre>"},{"location":"configuration/#global-settings-app","title":"Global Settings (<code>app</code>)","text":"<p>Customize the application name and logo appearing in the sidebar and browser tab.</p> Property Type Description Required Default <code>name</code> <code>string</code> The name of your application. Displayed in the sidebar header and browser title. Yes \"Dashboard\" <code>logo</code> <code>string</code> Path to the logo image (relative to <code>public/</code>). Used as favicon and sidebar icon. No Vite Logo <code>welcomePage</code> <code>object</code> Configuration for the welcome/home page. No -"},{"location":"configuration/#welcome-page-configuration-welcomepage","title":"Welcome Page Configuration (<code>welcomePage</code>)","text":"Property Type Description <code>title</code> <code>string</code> Main title on the welcome page. <code>subtitle</code> <code>string</code> Subtitle text. <code>showGettingStarted</code> <code>boolean</code> Whether to show the \"Getting Started\" section. <code>gettingStartedTitle</code> <code>string</code> Title for the \"Getting Started\" section. <code>gettingStartedItems</code> <code>string[]</code> List of instruction items."},{"location":"configuration/#map-sources-mapsources","title":"Map Sources (<code>mapSources</code>)","text":"<p>Define the base maps available for use in map widgets. You can define multiple sources (WMS or Tile) and reference them by key in your dashboard configuration.</p>"},{"location":"configuration/#tile-layer","title":"Tile Layer","text":"<pre><code>\"osm\": {\n  \"type\": \"tile\",\n  \"url\": \"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png\",\n  \"attribution\": \"&amp;copy; OpenStreetMap contributors\"\n}\n</code></pre>"},{"location":"configuration/#wms-layer","title":"WMS Layer","text":"<pre><code>\"topowebb\": {\n  \"type\": \"wms\",\n  \"url\": \"https://kartor.example.se/geoserver/wms\",\n  \"version\": \"1.1.1\", // or \"1.3.0\"\n  \"format\": \"image/png\",\n  \"transparent\": true,\n  \"defaultLayers\": [\"layer1\", \"layer2\"]\n}\n</code></pre>"},{"location":"configuration/#shared-data-sources-datasources","title":"Shared Data Sources (<code>dataSources</code>)","text":"<p>Define WFS endpoints that can be reused across multiple dashboards. This avoids repetition and makes maintenance easier.</p> Property Type Description Required <code>name</code> <code>string</code> Display name for the data source. Yes <code>wfsEndpoint</code> <code>string</code> The URL of the WFS service. Yes <code>version</code> <code>string</code> WFS version (e.g., \"1.0.0\", \"1.1.0\", \"2.0.0\"). No (Default: \"1.0.0\") <code>outputFormat</code> <code>string</code> Response format (e.g., \"application/json\"). No (Default: \"application/json\") <code>refreshInterval</code> <code>number</code> Data refresh interval in seconds. No <code>maxFeatures</code> <code>number</code> Maximum number of features to fetch. No <code>geometryField</code> <code>string</code> Geometry field name (default: \"geom\"). No <code>useUtcDates</code> <code>boolean</code> Treat dates as UTC (default: false). No <code>timeFilter</code> <code>object</code> Time filter configuration (see Filters). No <code>numericFilter</code> <code>object</code> Numeric filter configuration (see Filters). No <code>atlasFilter</code> <code>object</code> Atlas filter configuration (see Filters). No"},{"location":"configuration/#usage-in-dashboards","title":"Usage in Dashboards","text":"<p>Once defined, you can reference a shared source in a dashboard configuration using the <code>source</code> property:</p> <pre><code>\"dataSource\": {\n  \"source\": \"geoserver1\", // References the key in \"dataSources\"\n  \"typeName\": \"workspace:layer_name\",\n  \"cqlFilter\": \"status='active'\"\n}\n</code></pre>"},{"location":"configuration/#syntax-rules","title":"Syntax Rules","text":"<ul> <li>Format: The file must be valid JSON.</li> <li>Comments: Standard JSON does not support comments. Do not include <code>//</code> or <code>/* */</code>.</li> <li>Keys: All property keys must be enclosed in double quotes.</li> <li>Strings: All string values must be enclosed in double quotes.</li> <li>Booleans: Use <code>true</code> or <code>false</code> (no quotes).</li> <li>Numbers: Use plain numbers (no quotes).</li> </ul>"},{"location":"configuration/app_customization/","title":"Application Customization","text":""},{"location":"configuration/app_customization/#application-customization-guide","title":"Application Customization Guide","text":""},{"location":"configuration/app_customization/#custom-application-name-and-logo","title":"Custom Application Name and Logo","text":"<p>You can now customize the application's name and logo/icon by editing the <code>config.json</code> file.</p>"},{"location":"configuration/app_customization/#configuration","title":"Configuration","text":"<p>Edit the <code>public/config/config.json</code> file and add an <code>app</code> section at the top level:</p> <pre><code>{\n  \"app\": {\n    \"name\": \"Your Custom App Name\",\n    \"logo\": \"/path-to-your-logo.png\"\n  },\n  \"mapSources\": { ... },\n  \"dashboards\": [ ... ]\n}\n</code></pre>"},{"location":"configuration/app_customization/#properties","title":"Properties","text":"<ul> <li><code>name</code> (required): The name of your application</li> <li>Appears in the browser tab title</li> <li> <p>Displayed in the sidebar header</p> </li> <li> <p><code>logo</code> (optional): Path to your custom logo/icon image</p> </li> <li>Used as the browser favicon</li> <li>Displayed in the sidebar header next to the app name</li> <li>Path should be relative to the <code>public/</code> directory (e.g., <code>/my-logo.png</code>)</li> </ul>"},{"location":"configuration/app_customization/#example","title":"Example","text":"<pre><code>{\n  \"app\": {\n    \"name\": \"Mora Municipality Dashboard\",\n    \"logo\": \"/mora-logo.png\"\n  },\n  \"mapSources\": { ... },\n  \"dashboards\": [ ... ]\n}\n</code></pre>"},{"location":"configuration/app_customization/#adding-a-custom-logo","title":"Adding a Custom Logo","text":"<ol> <li>Place your logo image file in the <code>public/</code> directory (e.g., <code>public/my-logo.png</code>)</li> <li>Update the <code>logo</code> property in <code>config.json</code> to reference your image: <code>\"/my-logo.png\"</code></li> <li>Reload the application to see the changes</li> </ol>"},{"location":"configuration/app_customization/#supported-image-formats","title":"Supported Image Formats","text":"<ul> <li>PNG (recommended for transparency support)</li> <li>SVG (recommended for scalability)</li> <li>JPG/JPEG</li> <li>GIF</li> <li>ICO</li> </ul>"},{"location":"configuration/app_customization/#logo-sizing","title":"Logo Sizing","text":"<p>The logo will be displayed at 32x32 pixels (w-8 h-8) in the sidebar. For best results: - Use a square image (1:1 aspect ratio) - Recommended size: at least 64x64 pixels for retina displays - Consider using transparent backgrounds (PNG/SVG)</p>"},{"location":"configuration/app_customization/#default-behavior","title":"Default Behavior","text":"<p>If the <code>app</code> section is omitted from the config: - Default name: \"Dashboard\" - Default icon: Vite logo (<code>/vite.svg</code>)</p>"},{"location":"configuration/app_customization/#shared-data-sources-configuration","title":"Shared Data Sources Configuration","text":"<p>You can now define shared WFS data sources that can be reused across multiple dashboards, similar to how <code>mapSources</code> work. This makes your configuration cleaner and easier to maintain.</p>"},{"location":"configuration/app_customization/#configuration_1","title":"Configuration","text":"<p>Add a <code>dataSources</code> section at the top level of <code>public/config/config.json</code>:</p> <pre><code>{\n  \"app\": { ... },\n  \"mapSources\": { ... },\n  \"dataSources\": {\n    \"my-geoserver\": {\n      \"name\": \"My GeoServer\",\n      \"wfsEndpoint\": \"https://geoserver.example.com/geoserver/ows\",\n      \"version\": \"1.0.0\",\n      \"outputFormat\": \"application/json\"\n    },\n    \"another-server\": {\n      \"name\": \"Another WFS Server\",\n      \"wfsEndpoint\": \"https://wfs.example.com/wfs\",\n      \"version\": \"2.0.0\",\n      \"outputFormat\": \"application/json\"\n    }\n  },\n  \"dashboards\": [ ... ]\n}\n</code></pre>"},{"location":"configuration/app_customization/#shared-data-source-properties","title":"Shared Data Source Properties","text":"<ul> <li><code>name</code> (required): Display name for the data source</li> <li><code>wfsEndpoint</code> (required): The WFS endpoint URL</li> <li><code>version</code> (optional): WFS version (default: \"1.0.0\")</li> <li><code>outputFormat</code> (optional): Response format (default: \"application/json\")</li> </ul>"},{"location":"configuration/app_customization/#using-shared-data-sources-in-dashboards","title":"Using Shared Data Sources in Dashboards","text":"<p>Reference a shared data source using the <code>source</code> property:</p> <pre><code>{\n  \"id\": \"my-dashboard\",\n  \"dashboard\": {\n    \"title\": \"My Dashboard\",\n    \"description\": \"Dashboard using shared data source\"\n  },\n  \"dataSource\": {\n    \"source\": \"my-geoserver\",\n    \"typeName\": \"workspace:layer_name\",\n    \"maxFeatures\": 100,\n    \"refreshInterval\": 300,\n    \"cqlFilter\": \"status='active'\",\n    \"timeFilter\": {\n      \"dateField\": \"created_date\",\n      \"defaultFromDays\": 7,\n      \"defaultToDays\": 0,\n      \"minDays\": 0,\n      \"maxDays\": 90\n    }\n  },\n  \"widgets\": [ ... ]\n}\n</code></pre>"},{"location":"configuration/app_customization/#dashboard-specific-data-source-properties","title":"Dashboard-Specific Data Source Properties","text":"<p>When using a shared data source reference, you can specify:</p> <ul> <li><code>source</code> (required): Key of the shared data source to use</li> <li><code>typeName</code> (required): The specific layer/feature type name</li> <li><code>cqlFilter</code> (optional): CQL filter specific to this dashboard</li> <li><code>maxFeatures</code> (optional): Maximum features to fetch</li> <li><code>refreshInterval</code> (optional): Auto-refresh interval in seconds</li> <li><code>timeFilter</code> (optional): Time filter configuration</li> <li><code>geometryField</code> (optional): Geometry field name (default: 'geom')</li> </ul>"},{"location":"configuration/app_customization/#benefits","title":"Benefits","text":"<ol> <li>DRY Principle: Define endpoint URL, version, and format once</li> <li>Easy Maintenance: Update server URL in one place</li> <li>Cleaner Config: Dashboards only specify what's unique to them</li> <li>Consistency: Ensures all dashboards use the same server settings</li> </ol>"},{"location":"configuration/app_customization/#backward-compatibility","title":"Backward Compatibility","text":"<p>The old format (full <code>dataSource</code> configuration) is still supported:</p> <pre><code>{\n  \"dataSource\": {\n    \"id\": \"my-data\",\n    \"name\": \"My Data Source\",\n    \"wfsEndpoint\": \"https://geoserver.example.com/geoserver/ows\",\n    \"typeName\": \"workspace:layer_name\",\n    \"version\": \"1.0.0\",\n    \"outputFormat\": \"application/json\",\n    \"maxFeatures\": 100,\n    \"refreshInterval\": 300\n  }\n}\n</code></pre>"},{"location":"configuration/app_customization/#example-before-and-after","title":"Example: Before and After","text":"<p>Before (repetitive): </p><pre><code>{\n  \"dashboards\": [\n    {\n      \"id\": \"dashboard-1\",\n      \"dataSource\": {\n        \"name\": \"Properties\",\n        \"wfsEndpoint\": \"https://geoserver.example.com/geoserver/ows\",\n        \"version\": \"1.0.0\",\n        \"outputFormat\": \"application/json\",\n        \"typeName\": \"properties:parcels\",\n        \"maxFeatures\": 100\n      }\n    },\n    {\n      \"id\": \"dashboard-2\",\n      \"dataSource\": {\n        \"name\": \"Buildings\",\n        \"wfsEndpoint\": \"https://geoserver.example.com/geoserver/ows\",\n        \"version\": \"1.0.0\",\n        \"outputFormat\": \"application/json\",\n        \"typeName\": \"properties:buildings\",\n        \"maxFeatures\": 200\n      }\n    }\n  ]\n}\n</code></pre><p></p> <p>After (clean and maintainable): </p><pre><code>{\n  \"dataSources\": {\n    \"geoserver\": {\n      \"name\": \"Main GeoServer\",\n      \"wfsEndpoint\": \"https://geoserver.example.com/geoserver/ows\",\n      \"version\": \"1.0.0\",\n      \"outputFormat\": \"application/json\"\n    }\n  },\n  \"dashboards\": [\n    {\n      \"id\": \"dashboard-1\",\n      \"dataSource\": {\n        \"source\": \"geoserver\",\n        \"typeName\": \"properties:parcels\",\n        \"maxFeatures\": 100\n      }\n    },\n    {\n      \"id\": \"dashboard-2\",\n      \"dataSource\": {\n        \"source\": \"geoserver\",\n        \"typeName\": \"properties:buildings\",\n        \"maxFeatures\": 200\n      }\n    }\n  ]\n}\n</code></pre><p></p>"},{"location":"filters/","title":"Overview","text":""},{"location":"filters/#filters-functions","title":"Filters &amp; Functions","text":"<p>Dashify provides a powerful suite of filtering options to refine data visualization and analysis. Filters can be applied globally (Time, Numeric, Atlas) or locally (Column, Spatial).</p>"},{"location":"filters/#global-filters","title":"Global Filters","text":"<p>These filters are defined in the <code>dataSource</code> configuration and affect all widgets in the dashboard.</p>"},{"location":"filters/#time-filter-timefilter","title":"Time Filter (<code>timeFilter</code>)","text":"<p>Creates an interactive date range slider.</p> <p>Options</p> Property Type Default Description <code>dateField</code> <code>string</code> - The date field to filter on. <code>defaultFromDays</code> <code>number</code> - Default \"from\" days ago (older boundary). <code>defaultToDays</code> <code>number</code> - Default \"to\" days ago (newer boundary). <code>minDays</code> <code>number</code> - Minimum allowed days on the slider. <code>maxDays</code> <code>number</code> - Maximum allowed days on the slider. <p>Configuration:</p> <pre><code>\"timeFilter\": {\n  \"dateField\": \"created_date\", // Date column in your data\n  \"defaultFromDays\": 30, // Default start (days ago)\n  \"defaultToDays\": 0, // Default end (days ago)\n  \"minDays\": 0, // Minimum value on slider\n  \"maxDays\": 365 // Maximum value on slider\n}\n</code></pre>"},{"location":"filters/#numeric-filter-numericfilter","title":"Numeric Filter (<code>numericFilter</code>)","text":"<p>Creates a slider for filtering by a numeric attribute (e.g., age, price).</p> <p>Options</p> Property Type Default Description <code>field</code> <code>string</code> - The numeric field to filter on. <code>label</code> <code>string</code> - Display label for the slider. <code>min</code> <code>number</code> - Absolute minimum value. <code>max</code> <code>number</code> - Absolute maximum value. <code>defaultMin</code> <code>number</code> - Default minimum selected value. <code>defaultMax</code> <code>number</code> - Default maximum selected value. <code>step</code> <code>number</code> <code>1</code> Step increment for the slider. <code>unit</code> <code>string</code> - Unit suffix (e.g., \"$\"). <code>presets</code> <code>object[]</code> - Array of preset range buttons. <p>Configuration:</p> <pre><code>\"numericFilter\": {\n  \"field\": \"price\", // Numeric column\n  \"label\": \"Price\", // Label\n  \"defaultMin\": 100, // Default minimum\n  \"defaultMax\": 500, // Default maximum\n  \"min\": 0, // Absolute minimum\n  \"max\": 1000, // Absolute maximum\n  \"step\": 10, // Slider step\n  \"unit\": \"$\", // Value unit\n  \"presets\": [ // Optional preset buttons\n    { \"label\": \"Cheap\", \"min\": 0, \"max\": 100 },\n    { \"label\": \"Expensive\", \"min\": 500, \"max\": 1000 }\n  ]\n}\n</code></pre>"},{"location":"filters/#atlas-filter-atlasfilter","title":"Atlas Filter (<code>atlasFilter</code>)","text":"<p>A dropdown menu for selecting predefined geographic areas (e.g., municipalities, districts). Supports single or multiple sources.</p> <p>Options (Single Source)</p> Property Type Default Description <code>source</code> <code>string</code> - Reference to a shared data source key. <code>typeName</code> <code>string</code> - WFS layer name containing filter geometries. <code>titleField</code> <code>string</code> - Field to display as the area title. <code>geometryField</code> <code>string</code> <code>'geom'</code> Geometry field name. <code>defaultSelected</code> <code>string[]</code> - Array of titles to pre-select. <code>sources</code> <code>object[]</code> - For multi-source configuration (see Atlas Filter Details). <p>Single Source Configuration (Simple):</p> <p>Use this format for a single layer of atlas areas.</p> <pre><code>\"atlasFilter\": {\n  \"source\": \"geoserver1\", // Optional: WFS Source key (defaults to dashboard source)\n  \"typeName\": \"admin:municipalities\", // Layer name containing the areas\n  \"titleField\": \"name\", // Field to display in the dropdown\n  \"geometryField\": \"geom\", // Geometry field name (default: \"geom\")\n  \"defaultSelected\": [\"Stockholm\"] // Optional: Pre-selected values\n}\n</code></pre> <p>Multi-Source Configuration (Advanced):</p> <p>Use this format to combine multiple layers (e.g., Districts and Municipalities) or group areas. See the Atlas Filter Guide for full documentation.</p> <pre><code>\"atlasFilter\": {\n  \"sources\": [\n    {\n      \"label\": \"Municipalities\", // Group label\n      \"source\": \"geoserver1\", // WFS Source key\n      \"typeName\": \"admin:municipalities\", // Layer name\n      \"titleField\": \"name\", // Display field\n      \"geometryField\": \"geom\", // Geometry field\n      \"defaultSelected\": [\"New York\"], // Pre-selected values\n      \"selectAll\": true // Enable \"Select All\" option\n    },\n    {\n      \"label\": \"Districts\",\n      \"source\": \"geoserver1\",\n      \"typeName\": \"admin:districts\",\n      \"titleField\": \"district_name\",\n      \"groupBy\": \"city_id\" // Group by attribute\n    }\n  ]\n}\n</code></pre>"},{"location":"filters/#local-filters","title":"Local Filters","text":"<p>These filters are applied directly in the user interface.</p>"},{"location":"filters/#spatial-filter-map-drawing","title":"Spatial Filter (Map Drawing)","text":"<p>Users can draw polygons or rectangles on the map to filter features spatially.</p> <p>Usage: 1.  Select the Draw Polygon or Draw Rectangle tool from the map controls. 2.  Draw a shape on the map. 3.  Only features intersecting the shape will remain visible. 4.  Click the Trash icon to clear the filter.</p>"},{"location":"filters/#column-filter-table","title":"Column Filter (Table)","text":"<p>Users can filter table data by specific column values.</p> <p>Usage: 1.  Click the filter icon in a table column header. 2.  Select values from the dropdown list. 3.  Or type in the search box to filter across all columns.</p>"},{"location":"filters/#helper-functions","title":"Helper Functions","text":""},{"location":"filters/#cql-filters-cqlfilter","title":"CQL Filters (<code>cqlFilter</code>)","text":"<p>Apply complex logic using OGC Common Query Language (CQL). This filter is sent directly to the WFS server.</p> <p>Examples: *   <code>status = 'active'</code> *   <code>population &gt; 1000 AND category IN ('A', 'B')</code> *   <code>BBOX(the_geom, -180, -90, 180, 90)</code></p>"},{"location":"filters/#dynamic-date-expressions","title":"Dynamic Date Expressions","text":"<p>Use special placeholders in your CQL filters to represent dynamic dates. These are evaluated before the request is sent.</p> Expression Description Example Output <code>{{date:now}}</code> Current timestamp <code>2023-10-27T10:00:00Z</code> <code>{{date:now-7d}}</code> 7 days ago <code>2023-10-20T10:00:00Z</code> <code>{{date:now-1m}}</code> 1 month ago <code>2023-09-27T10:00:00Z</code> <code>{{date:now-1y}}</code> 1 year ago <code>2022-10-27T10:00:00Z</code> <code>{{date:startOfDay}}</code> Start of today (00:00) <code>2023-10-27T00:00:00Z</code> <code>{{date:startOfWeek}}</code> Start of current week <code>2023-10-23T00:00:00Z</code> <p>Example Usage:</p> <pre><code>\"cqlFilter\": \"created_date &gt; '{{date:now-7d}}' AND status = 'open'\"\n</code></pre>"},{"location":"filters/atlas/","title":"Atlas Filters","text":""},{"location":"filters/atlas/#multi-source-atlas-filter-guide","title":"Multi-Source Atlas Filter Guide","text":"<p>This guide explains how to configure and use multiple atlas filter sources in your dashboards.</p>"},{"location":"filters/atlas/#overview","title":"Overview","text":"<p>The atlas filter feature now supports multiple data sources, allowing users to select filter areas from different WFS layers (e.g., municipalities, districts, neighborhoods) in a single, organized dropdown interface.</p>"},{"location":"filters/atlas/#configuration","title":"Configuration","text":""},{"location":"filters/atlas/#single-source-backward-compatible","title":"Single Source (Backward Compatible)","text":"<p>The original single-source configuration continues to work:</p> <pre><code>{\n  \"dataSource\": {\n    \"source\": \"ovansiljan-geoserver\",\n    \"typeName\": \"fb:fb_antal_boende_per_adressplats\",\n    \"atlasFilter\": {\n      \"source\": \"ovansiljan-geoserver\",\n      \"typeName\": \"fb:fb_kommunyta\",\n      \"titleField\": \"BESKRIV\",\n      \"geometryField\": \"geom\",\n      \"defaultSelected\": [\"MORA\", \"ORSA\"]\n    }\n  }\n}\n</code></pre>"},{"location":"filters/atlas/#multiple-sources-new-feature","title":"Multiple Sources (New Feature)","text":"<p>Configure multiple atlas sources with grouped, collapsible categories:</p> <pre><code>{\n  \"dataSource\": {\n    \"source\": \"ovansiljan-geoserver\",\n    \"typeName\": \"fb:fb_antal_boende_per_adressplats\",\n    \"atlasFilter\": {\n      \"sources\": [\n        {\n          \"label\": \"Kommuner\",\n          \"source\": \"ovansiljan-geoserver\",\n          \"typeName\": \"fb:fb_kommunyta\",\n          \"titleField\": \"BESKRIV\",\n          \"geometryField\": \"geom\",\n          \"defaultSelected\": [\"MORA\", \"ORSA\"]\n        },\n        {\n          \"label\": \"Distrikt\",\n          \"source\": \"mora-geoserver\",\n          \"typeName\": \"admin:distrikt\",\n          \"titleField\": \"namn\",\n          \"selectAll\": true\n        },\n        {\n          \"label\": \"Stadsdelar\",\n          \"source\": \"ovansiljan-geoserver\",\n          \"typeName\": \"admin:stadsdel\",\n          \"titleField\": \"name\"\n        }\n      ]\n    }\n  }\n}\n</code></pre>"},{"location":"filters/atlas/#configuration-options","title":"Configuration Options","text":""},{"location":"filters/atlas/#atlasfiltersource-properties","title":"AtlasFilterSource Properties","text":"Property Type Required Description <code>label</code> string Yes Display name for the category (e.g., \"Kommuner\") <code>source</code> string No Reference to dataSources key. If omitted, uses dashboard's main source <code>typeName</code> string Yes WFS layer name containing filter geometries <code>titleField</code> string Yes Field name for area titles (e.g., \"BESKRIV\") <code>geometryField</code> string No Geometry field name (default: \"geom\") <code>cqlFilter</code> string No CQL filter to apply when fetching areas (e.g., \"L\u00e4n = 'Dalarnas l\u00e4n'\") <code>groupBy</code> string No Field to group features by. Creates one category per unique value <code>defaultSelected</code> string[] No Array of area titles to pre-select <code>selectAll</code> boolean No If true, pre-selects all areas from this source"},{"location":"filters/atlas/#selection-priority","title":"Selection Priority","text":"<p>When both <code>selectAll</code> and <code>defaultSelected</code> are specified: - <code>selectAll: true</code> takes precedence and selects all areas - Use one or the other per source, not both</p>"},{"location":"filters/atlas/#ui-features","title":"UI Features","text":""},{"location":"filters/atlas/#multi-source-mode","title":"Multi-Source Mode","text":"<p>When using <code>sources</code> array, the UI includes:</p> <ol> <li>Search Box: Filter areas across all sources by typing</li> <li>Collapsible Groups: Each source is a collapsible category (collapsed by default)</li> <li>Selection Counters: Shows selected count per group and total</li> <li>Group Headers: Clickable headers to expand/collapse categories</li> </ol> <pre><code>\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502 \ud83d\udd0d Search areas...                      \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502 \u25b6 Kommuner (2)                          \u2502  \u2190 Collapsed\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502 \u25bc Distrikt (0)                          \u2502  \u2190 Expanded\n\u2502   \u2610 Centrum                             \u2502\n\u2502   \u2610 V\u00e4ster                              \u2502\n\u2502   \u2610 \u00d6ster                               \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502 Selected: 2 areas                       \u2502\n\u2502 \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510 \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510                   \u2502\n\u2502 \u2502 Apply  \u2502 \u2502 Cancel \u2502                   \u2502\n\u2502 \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518 \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518                   \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre>"},{"location":"filters/atlas/#single-source-mode-backward-compatible","title":"Single-Source Mode (Backward Compatible)","text":"<p>Without <code>sources</code> array, the UI shows a simple list:</p> <pre><code>\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502 Select Areas                            \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502 \u2611 MORA                                  \u2502\n\u2502 \u2611 ORSA                                  \u2502\n\u2502 \u2610 \u00c4LVDALEN                              \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502 \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510 \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510                   \u2502\n\u2502 \u2502 Apply  \u2502 \u2502 Cancel \u2502                   \u2502\n\u2502 \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518 \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518                   \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre>"},{"location":"filters/atlas/#navigation-bar","title":"Navigation Bar","text":"<p>The atlas navigation bar shows:</p> <p>Multi-Source Mode: </p><pre><code>\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502 \u25c0  Kommuner                         \u25b6  \u2715 \u2502\n\u2502    MORA                                  \u2502\n\u2502    1 / 5                                 \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre><p></p> <p>Single-Source Mode: </p><pre><code>\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502 \u25c0  MORA                             \u25b6  \u2715 \u2502\n\u2502    1 / 3                                 \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre><p></p>"},{"location":"filters/atlas/#filter-logic","title":"Filter Logic","text":"<ul> <li>OR Logic: Features matching ANY selected area are included</li> <li>Multiple Sources: Areas from different sources are combined with OR logic</li> <li>Example: Selecting \"MORA\" from Kommuner AND \"Centrum\" from Distrikt will show features in MORA OR Centrum</li> </ul>"},{"location":"filters/atlas/#example-configurations","title":"Example Configurations","text":""},{"location":"filters/atlas/#example-1-municipal-and-district-filters","title":"Example 1: Municipal and District Filters","text":"<pre><code>{\n  \"atlasFilter\": {\n    \"sources\": [\n      {\n        \"label\": \"Kommuner\",\n        \"typeName\": \"fb:fb_kommunyta\",\n        \"titleField\": \"BESKRIV\",\n        \"defaultSelected\": [\"MORA\"]\n      },\n      {\n        \"label\": \"Distrikt\",\n        \"typeName\": \"admin:distrikt\",\n        \"titleField\": \"namn\"\n      }\n    ]\n  }\n}\n</code></pre>"},{"location":"filters/atlas/#example-2-pre-select-all-from-one-source","title":"Example 2: Pre-select All from One Source","text":"<pre><code>{\n  \"atlasFilter\": {\n    \"sources\": [\n      {\n        \"label\": \"Priority Areas\",\n        \"typeName\": \"planning:priority_zones\",\n        \"titleField\": \"zone_name\",\n        \"selectAll\": true\n      },\n      {\n        \"label\": \"Other Zones\",\n        \"typeName\": \"planning:other_zones\",\n        \"titleField\": \"zone_name\"\n      }\n    ]\n  }\n}\n</code></pre>"},{"location":"filters/atlas/#example-3-using-cql-filters","title":"Example 3: Using CQL Filters","text":"<p>Use <code>cqlFilter</code> to limit which areas are fetched from a source:</p> <pre><code>{\n  \"atlasFilter\": {\n    \"sources\": [\n      {\n        \"label\": \"Dalarna Kommuner\",\n        \"typeName\": \"fb:fb_kommunyta\",\n        \"titleField\": \"BESKRIV\",\n        \"cqlFilter\": \"L\u00e4n = 'Dalarnas l\u00e4n'\"\n      },\n      {\n        \"label\": \"Stockholm Kommuner\",\n        \"typeName\": \"fb:fb_kommunyta\",\n        \"titleField\": \"BESKRIV\",\n        \"cqlFilter\": \"L\u00e4n = 'Stockholms l\u00e4n'\"\n      }\n    ]\n  }\n}\n</code></pre> <p>This allows you to use the same WFS layer but split it into different categories based on attributes.</p>"},{"location":"filters/atlas/#example-4-using-groupby-for-dynamic-grouping","title":"Example 4: Using groupBy for Dynamic Grouping","text":"<p>The <code>groupBy</code> property allows you to fetch all features from a single layer and automatically split them into separate groups based on a field value. This is much cleaner than defining multiple sources with CQL filters.</p> <p>Before (multiple sources with cqlFilter): </p><pre><code>{\n  \"atlasFilter\": {\n    \"sources\": [\n      {\n        \"label\": \"Nyckelkodkodsomr\u00e5de Mora\",\n        \"source\": \"ovansiljan-geoserver\",\n        \"typeName\": \"fb:fb_nyko_6_sifferniva\",\n        \"titleField\": \"BESKRIV\",\n        \"geometryField\": \"geom\",\n        \"cqlFilter\": \"OMRADE = 'mora'\",\n        \"selectAll\": true\n      },\n      {\n        \"label\": \"Nyckelkodkodsomr\u00e5de Orsa\",\n        \"source\": \"ovansiljan-geoserver\",\n        \"typeName\": \"fb:fb_nyko_6_sifferniva\",\n        \"titleField\": \"BESKRIV\",\n        \"geometryField\": \"geom\",\n        \"cqlFilter\": \"OMRADE = 'orsa'\",\n        \"selectAll\": true\n      }\n    ]\n  }\n}\n</code></pre><p></p> <p>After (single source with groupBy): </p><pre><code>{\n  \"atlasFilter\": {\n    \"sources\": [\n      {\n        \"label\": \"Nyckelkodkodsomr\u00e5de\",\n        \"source\": \"ovansiljan-geoserver\",\n        \"typeName\": \"fb:fb_nyko_6_sifferniva\",\n        \"titleField\": \"BESKRIV\",\n        \"geometryField\": \"geom\",\n        \"groupBy\": \"OMRADE\",\n        \"selectAll\": true\n      }\n    ]\n  }\n}\n</code></pre><p></p> <p>How it works: 1. Fetches all features from <code>fb:fb_nyko_6_sifferniva</code> 2. Extracts unique values from the <code>OMRADE</code> field (e.g., \"mora\", \"orsa\", \"\u00e4lvdalen\") 3. Creates separate collapsible groups labeled:    - \"Nyckelkodkodsomr\u00e5de - Mora\"    - \"Nyckelkodkodsomr\u00e5de - Orsa\"    - \"Nyckelkodkodsomr\u00e5de - \u00c4lvdalen\" 4. Each group contains only the areas where <code>OMRADE</code> matches that value</p> <p>Benefits: - Less configuration: one source instead of N sources - Automatic discovery: no need to know all possible values upfront - Dynamic: automatically adapts if new values are added to the data - Combined with <code>cqlFilter</code>: You can still pre-filter the dataset before grouping</p> <p>With cqlFilter: </p><pre><code>{\n  \"label\": \"Dalarnas Nyckelkodomr\u00e5den\",\n  \"typeName\": \"fb:fb_nyko_6_sifferniva\",\n  \"titleField\": \"BESKRIV\",\n  \"cqlFilter\": \"L\u00c4N = 'Dalarna'\",\n  \"groupBy\": \"KOMMUN\",\n  \"selectAll\": false\n}\n</code></pre><p></p> <p>This fetches only areas in Dalarna county, then groups them by municipality.</p>"},{"location":"filters/atlas/#example-5-different-wfs-endpoints","title":"Example 5: Different WFS Endpoints","text":"<pre><code>{\n  \"dataSources\": {\n    \"source-a\": {\n      \"name\": \"Source A\",\n      \"wfsEndpoint\": \"https://server-a.com/geoserver/ows\"\n    },\n    \"source-b\": {\n      \"name\": \"Source B\",\n      \"wfsEndpoint\": \"https://server-b.com/geoserver/ows\"\n    }\n  },\n  \"dashboards\": [\n    {\n      \"dataSource\": {\n        \"source\": \"source-a\",\n        \"typeName\": \"data:layer\",\n        \"atlasFilter\": {\n          \"sources\": [\n            {\n              \"label\": \"Regions from Source A\",\n              \"source\": \"source-a\",\n              \"typeName\": \"admin:regions\",\n              \"titleField\": \"name\"\n            },\n            {\n              \"label\": \"Districts from Source B\",\n              \"source\": \"source-b\",\n              \"typeName\": \"admin:districts\",\n              \"titleField\": \"district_name\"\n            }\n          ]\n        }\n      }\n    }\n  ]\n}\n</code></pre>"},{"location":"filters/atlas/#best-practices","title":"Best Practices","text":"<ol> <li>Group Related Areas: Use meaningful category labels (e.g., \"Kommuner\", \"Distrikt\")</li> <li>Limit Categories: 3-5 sources is optimal for UX</li> <li>Consistent Naming: Use consistent <code>titleField</code> values across sources</li> <li>Pre-selection: Use <code>defaultSelected</code> for common use cases, <code>selectAll</code> for comprehensive views</li> <li>Search-Friendly Names: Use clear, searchable area names in your data</li> </ol>"},{"location":"filters/atlas/#backward-compatibility","title":"Backward Compatibility","text":"<p>All existing single-source atlas filter configurations continue to work without modification. The system automatically detects the configuration format:</p> <ul> <li>If <code>sources</code> array exists \u2192 Multi-source mode</li> <li>If <code>typeName</code> and <code>titleField</code> exist at root \u2192 Single-source mode (legacy)</li> </ul>"},{"location":"filters/atlas/#troubleshooting","title":"Troubleshooting","text":""},{"location":"filters/atlas/#areas-not-loading","title":"Areas Not Loading","text":"<ul> <li>Check WFS endpoint URLs in <code>dataSources</code></li> <li>Verify <code>typeName</code> matches exact layer name in GeoServer</li> <li>Ensure <code>titleField</code> exists in the layer's attribute table</li> </ul>"},{"location":"filters/atlas/#search-not-working","title":"Search Not Working","text":"<ul> <li>Search is only available in multi-source mode (<code>sources</code> array)</li> <li>Search is case-insensitive and searches area titles</li> </ul>"},{"location":"filters/atlas/#default-selection-not-working","title":"Default Selection Not Working","text":"<ul> <li>Verify area names in <code>defaultSelected</code> match exactly (case-sensitive)</li> <li>Check that <code>titleField</code> contains the expected values</li> <li>For <code>selectAll</code>, ensure the source loads successfully first</li> </ul>"},{"location":"filters/atlas/#related-features","title":"Related Features","text":"<ul> <li>Spatial Filters: Draw custom polygon/rectangle filters</li> <li>CQL Filters: Combine atlas filters with attribute filters</li> <li>Time Filters: Use atlas filters together with time ranges</li> <li>Numeric Filters: Stack multiple filter types for precise queries</li> </ul>"},{"location":"filters/column/","title":"Column Filters","text":""},{"location":"filters/column/#column-filter-guide","title":"Column Filter Guide","text":""},{"location":"filters/column/#overview","title":"Overview","text":"<p>The column filter feature allows you to filter WFS data by selecting specific values from table columns. Filters are applied server-side using CQL (Common Query Language), which means only the filtered data is fetched from the WFS endpoint.</p>"},{"location":"filters/column/#how-to-use","title":"How to Use","text":""},{"location":"filters/column/#accessing-column-filters","title":"Accessing Column Filters","text":"<ol> <li> <p>Locate the Column Dropdown: In the table header area, you'll find a dropdown button next to the search box that shows either \"All columns\" or a selected column name.</p> </li> <li> <p>Open the Dropdown: Click the dropdown button to see all available table columns.</p> </li> <li> <p>Filter a Column:</p> </li> <li>Next to each column name, you'll see a filter icon (\ud83d\udd3d)</li> <li>Click the filter icon to open a sub-menu showing unique values from that column</li> </ol>"},{"location":"filters/column/#selecting-filter-values","title":"Selecting Filter Values","text":"<p>When you click a column's filter icon, you'll see: - (Alla) - Clear the filter (show all values) - List of unique values from that column in the current dataset</p> <p>Select any value to filter the data. Only features with that exact value in the selected column will be displayed.</p>"},{"location":"filters/column/#active-filters","title":"Active Filters","text":"<p>Active filters are displayed as blue chips below the search bar: </p><pre><code>[kommunnamn: Mora \u2715] [arendetyp: Bygglov \u2715]\n</code></pre><p></p> <ul> <li>Click the \u2715 button on any chip to remove that filter</li> <li>Multiple filters can be active at the same time (they are combined with AND logic)</li> </ul>"},{"location":"filters/column/#example-use-cases","title":"Example Use Cases","text":"<p>Filter by Municipality: 1. Click the column dropdown 2. Find \"kommunnamn\" (or your location column) 3. Click the filter icon next to it 4. Select \"Mora\" from the list 5. Data refreshes to show only features in Mora</p> <p>Multiple Filters: 1. Filter by kommunnamn: \"Mora\" 2. Filter by arendetyp: \"Bygglov\" 3. Now only building permits in Mora are shown</p>"},{"location":"filters/column/#technical-details","title":"Technical Details","text":""},{"location":"filters/column/#server-side-filtering","title":"Server-Side Filtering","text":"<p>Column filters generate CQL expressions sent to the WFS endpoint: - Single filter: <code>kommunnamn = 'Mora'</code> - Multiple filters: <code>kommunnamn = 'Mora' AND arendetyp = 'Bygglov'</code></p> <p>These filters are combined with existing filters (time, spatial, static) using AND logic.</p>"},{"location":"filters/column/#integration-with-other-filters","title":"Integration with Other Filters","text":"<p>Column filters work alongside: - Time Filter Slider: Date range filtering - Spatial Filter: Drawing tools on the map - Static CQL Filters: Configured in the data source</p> <p>All filters are combined to create the final WFS query.</p>"},{"location":"filters/column/#data-flow","title":"Data Flow","text":"<ol> <li>User selects a filter value</li> <li>Filter is added to <code>columnFilters</code> state</li> <li>WFS data hook triggers a new fetch</li> <li>CQL expression is built and sent to server</li> <li>Filtered data is returned and displayed</li> </ol>"},{"location":"filters/column/#tips","title":"Tips","text":"<ul> <li>Performance: Column filters reduce data transfer as filtering happens on the server</li> <li>Available Values: Only values present in the initial data are shown in filter dropdowns</li> <li>Search vs Filter:</li> <li>Search box: Client-side filtering (searches already-loaded data)</li> <li>Column filters: Server-side filtering (fetches only matching data)</li> <li>Clear All: Remove each filter chip individually to clear all filters</li> </ul>"},{"location":"filters/column/#troubleshooting","title":"Troubleshooting","text":"<p>Filter dropdown is empty: - Ensure data has loaded successfully - Check that the column exists in the WFS response</p> <p>Filter not working: - Check browser console for WFS errors - Verify WFS endpoint supports CQL filtering - Ensure column names match exactly (case-sensitive)</p> <p>Values not updating: - Filter dropdowns show values from the current (possibly filtered) dataset - Clear all filters to see all possible values</p>"},{"location":"filters/spatial/","title":"Spatial Filters","text":""},{"location":"filters/spatial/#spatial-filter-feature-guide","title":"Spatial Filter Feature Guide","text":""},{"location":"filters/spatial/#overview","title":"Overview","text":"<p>The spatial filter feature allows users to filter WFS data spatially using different methods: 1. Draw custom shapes (polygons or rectangles) directly on the map 2. Atlas Filter - Select from predefined areas (like municipalities or districts) and navigate through them one at a time, similar to QGIS Atlas functionality</p> <p>The spatial filter is combined with existing CQL filters and time filters to create comprehensive queries to the GeoServer endpoint.</p>"},{"location":"filters/spatial/#features","title":"Features","text":"<ul> <li>Draw Polygon: Draw custom polygons to define irregular search areas</li> <li>Draw Rectangle: Draw rectangles for quick rectangular area selections</li> <li>Atlas Filter: Select predefined geographic areas and navigate through them</li> <li>Clear Filter: Remove the spatial filter with a single click</li> <li>Combined Filtering: Spatial filters work alongside CQL filters and time filters</li> <li>Visual Feedback: Drawn shapes are displayed on the map</li> </ul>"},{"location":"filters/spatial/#how-to-use","title":"How to Use","text":""},{"location":"filters/spatial/#1-enable-drawing-mode","title":"1. Enable Drawing Mode","text":"<p>Click the \"Draw Filter\" button on the left side of the map (with the polygon icon). This will: - Activate the drawing tools - Show polygon and rectangle drawing options on the right side of the map - Display instructions about how to use the tools</p>"},{"location":"filters/spatial/#2-draw-a-shape","title":"2. Draw a Shape","text":"<p>After enabling drawing mode, you'll see drawing controls on the right side:</p> <p>To draw a polygon: 1. Click the polygon icon (\u2b20) 2. Click on the map to add vertices 3. Double-click to complete the polygon</p> <p>To draw a rectangle: 1. Click the rectangle icon (\u25ad) 2. Click and drag on the map to create a rectangle 3. Release to complete</p>"},{"location":"filters/spatial/#3-filter-applied","title":"3. Filter Applied","text":"<p>Once you complete drawing: - The shape is displayed on the map in red - All widgets automatically update to show only features within the drawn area - A \"Clear Filter\" button appears below the \"Draw Filter\" button - The WFS request includes the spatial filter using <code>INTERSECTS</code> operation</p>"},{"location":"filters/spatial/#4-clear-the-filter","title":"4. Clear the Filter","text":"<p>To remove the spatial filter: - Click the \"Clear Filter\" button (trash icon) - The drawn shape is removed - All widgets refresh to show all features (respecting other active filters)</p>"},{"location":"filters/spatial/#technical-details","title":"Technical Details","text":""},{"location":"filters/spatial/#configuration","title":"Configuration","text":"<p>The geometry field name can be configured in your dashboard config: </p><pre><code>{\n  \"dataSource\": {\n    \"geometryField\": \"geom\"\n  }\n}\n</code></pre> Default value is <code>\"geom\"</code> if not specified.<p></p>"},{"location":"filters/spatial/#cql-filter-generation","title":"CQL Filter Generation","text":"<p>The spatial filter is generated as: </p><pre><code>INTERSECTS(geom, POLYGON((lng1 lat1, lng2 lat2, ...)))\n</code></pre><p></p>"},{"location":"filters/spatial/#filter-combination","title":"Filter Combination","text":"<p>All filters are combined with AND operators: </p><pre><code>SPATIAL_FILTER AND TIME_FILTER AND STATIC_CQL_FILTER\n</code></pre><p></p>"},{"location":"filters/spatial/#atlas-filter-feature","title":"Atlas Filter Feature","text":""},{"location":"filters/spatial/#overview_1","title":"Overview","text":"<p>The Atlas Filter provides a way to filter data by predefined geographic areas (like municipalities, districts, planning zones, etc.) that are stored in a WFS layer. This is similar to the Atlas functionality in QGIS, where you can step through multiple areas one at a time.</p>"},{"location":"filters/spatial/#configuration_1","title":"Configuration","text":"<p>To enable the Atlas Filter, add an <code>atlasFilter</code> configuration to your data source:</p> <pre><code>{\n  \"dataSource\": {\n    \"source\": \"ovansiljan-geoserver\",\n    \"typeName\": \"topodirekt:rk_fastighet_y\",\n    \"geometryField\": \"geom\",\n    \"atlasFilter\": {\n      \"typeName\": \"admin:kommuner\",\n      \"titleField\": \"kommunnamn\",\n      \"geometryField\": \"geom\",\n      \"defaultSelected\": [\"Mora\", \"Orsa\"]\n    }\n  }\n}\n</code></pre> <p>Configuration Options: - <code>typeName</code> (required): The WFS layer containing the filter geometries - <code>titleField</code> (required): The field to use as the display name for each area - <code>geometryField</code> (optional): The geometry field name in the filter layer (default: 'geom') - <code>defaultSelected</code> (optional): Array of area titles to pre-select</p>"},{"location":"filters/spatial/#how-to-use_1","title":"How to Use","text":"<ol> <li>Enable Drawing Mode</li> <li> <p>Click the \"Draw Filter\" button on the map (polygon icon on the right side)</p> </li> <li> <p>Select Atlas Filter</p> </li> <li> <p>After enabling drawing mode, you'll see three options:</p> <ul> <li>Polygon (\u2b20)</li> <li>Rectangle (\u25ad)</li> <li>Atlas Filter (\ud83d\uddfa\ufe0f) \u2190 Click this</li> </ul> </li> <li> <p>Choose Areas</p> </li> <li>A dropdown appears showing all available areas from your configured WFS layer</li> <li>Check the boxes next to the areas you want to include</li> <li>You can select multiple areas</li> <li> <p>Click \"Apply\" to activate the filter</p> </li> <li> <p>Navigate Through Areas</p> </li> <li>A navigation bar appears at the top-center of the map</li> <li>Shows: <code>\u25c0  [Area Name]  [2/5]  \u25b6</code></li> <li>Click <code>\u25c0</code> (Previous) or <code>\u25b6</code> (Next) to step through your selected areas</li> <li>Only one area is shown at a time</li> <li> <p>The map automatically zooms to fit the current area</p> </li> <li> <p>Close Atlas Filter</p> </li> <li>Click the <code>\u2715</code> button in the navigation bar</li> <li>Or click the trash icon to clear all spatial filters</li> </ol>"},{"location":"filters/spatial/#example-use-cases","title":"Example Use Cases","text":"<p>1. Municipal Analysis </p><pre><code>\"atlasFilter\": {\n  \"typeName\": \"admin:municipalities\",\n  \"titleField\": \"municipality_name\",\n  \"defaultSelected\": [\"Stockholm\", \"G\u00f6teborg\", \"Malm\u00f6\"]\n}\n</code></pre> Step through each municipality to see statistics for that area only.<p></p> <p>2. Planning Districts </p><pre><code>\"atlasFilter\": {\n  \"typeName\": \"planning:districts\",\n  \"titleField\": \"district_name\"\n}\n</code></pre> Review planning data district by district.<p></p> <p>3. Sales Regions </p><pre><code>\"atlasFilter\": {\n  \"typeName\": \"sales:regions\",\n  \"titleField\": \"region_code\"\n}\n</code></pre> Navigate through sales regions to analyze performance.<p></p>"},{"location":"filters/spatial/#technical-details_1","title":"Technical Details","text":"<p>WFS Query The atlas filter fetches geometries once when you open the dropdown: </p><pre><code>GET /geoserver/ows?\n  service=WFS&amp;\n  version=1.0.0&amp;\n  request=GetFeature&amp;\n  typeName=admin:kommuner&amp;\n  outputFormat=application/json&amp;\n  srsName=EPSG:4326\n</code></pre><p></p> <p>Spatial Filter Generation For each area, a CQL filter is generated: </p><pre><code>INTERSECTS(geom, SRID=4326;POLYGON((lng1 lat1, lng2 lat2, ...)))\n</code></pre><p></p> <p>Multiple Areas When multiple areas are selected, they're available for navigation, but only ONE is applied at a time. The navigation control lets you switch between them.</p>"},{"location":"filters/spatial/#example-workflows","title":"Example Workflows","text":""},{"location":"filters/spatial/#workflow-1-draw-custom-shape","title":"Workflow 1: Draw Custom Shape","text":"<ol> <li>User opens the dashboard</li> <li>Sets time filter to last 30 days</li> <li>Clicks \"Draw Filter\" button</li> <li>Clicks \"Rectangle\" tool</li> <li>Draws a rectangle around an area of interest</li> <li>Map, table, and statistics widgets all update to show only features from the last 30 days within the drawn rectangle</li> <li>User can draw a new shape to replace the current filter</li> <li>User clicks \"Clear Filter\" to remove spatial filtering</li> </ol>"},{"location":"filters/spatial/#workflow-2-atlas-navigation","title":"Workflow 2: Atlas Navigation","text":"<ol> <li>User opens the dashboard</li> <li>Clicks \"Draw Filter\" button</li> <li>Clicks \"Atlas Filter\" (map icon)</li> <li>Selects \"Mora\", \"Orsa\", and \"\u00c4lvdalen\" from the dropdown</li> <li>Clicks \"Apply\"</li> <li>Navigation bar appears showing \"Mora kommun (1/3)\"</li> <li>Dashboard shows only data for Mora</li> <li>User clicks \"Next \u25b6\" to view Orsa</li> <li>Dashboard updates to show only Orsa data</li> <li>User clicks \"Next \u25b6\" again to view \u00c4lvdalen</li> <li>User clicks \"\u25c0 Previous\" to go back to Orsa</li> <li>User clicks \"\u2715\" to close the atlas filter</li> </ol>"},{"location":"filters/spatial/#notes","title":"Notes","text":"<ul> <li>Only one spatial filter can be active at a time (either drawn shape OR atlas)</li> <li>Drawing a new shape replaces any active atlas filter</li> <li>Selecting an atlas filter clears any drawn shapes</li> <li>The spatial filter persists until cleared or replaced</li> <li>Coordinates are automatically converted to WKT format for GeoServer compatibility</li> <li>All coordinates use EPSG:4326 (WGS84) projection</li> <li>Atlas filter supports Point, LineString, Polygon, MultiPoint, MultiLineString, and MultiPolygon geometries</li> <li>Complex multi-polygon filters work seamlessly (URL length is not a concern as everything is sent in a single query parameter)</li> </ul>"},{"location":"widgets/","title":"Overview","text":""},{"location":"widgets/#widgets","title":"Widgets","text":"<p>Dashify offers a rich set of widgets to visualize and interact with your data. Each widget is configured within the <code>widgets</code> array of a dashboard.</p>"},{"location":"widgets/#overview","title":"Overview","text":"<p>Widgets are categorized into:</p> <ul> <li>Primary Widgets: <code>map</code> (central view), <code>table</code> (data grid).</li> <li>Sidebar Widgets: <code>counter</code>, <code>area</code>, <code>length</code>, <code>statistics</code>, <code>linechart</code>, <code>areachart</code>, <code>piechart</code>, <code>populationpyramid</code> (displayed in the right sidebar).</li> </ul>"},{"location":"widgets/#widget-configuration","title":"Widget Configuration","text":"<p>Each widget object in the <code>widgets</code> array follows this general structure:</p> <pre><code>{\n  \"type\": \"widget_type\",\n  \"title\": \"Widget Title\",\n  \"dataSource\": \"datasource_id\", // ID matching the dashboard's dataSource\n  \"options\": {\n    // Widget-specific options\n  }\n}\n</code></pre>"},{"location":"widgets/#map-widget-map","title":"Map Widget (<code>map</code>)","text":"<p>Displays GeoJSON features on an interactive Leaflet map. Supports clustering, popups, multiple base layers, and layer switching.</p> <p>Options (<code>options</code>)</p> Property Type Default Description <code>center</code> <code>[number, number]</code> <code>[62.0, 15.0]</code> Initial map center <code>[lat, lon]</code>. <code>zoom</code> <code>number</code> <code>5</code> Initial zoom level. <code>markerColor</code> <code>string</code> <code>#3b82f6</code> Color for point markers (hex code). <code>mapSource</code> <code>string</code> - Key of the base map source defined in <code>mapSources</code>. <code>layers</code> <code>string[]</code> - Optional layer override for WMS sources. <code>additionalLayers</code> <code>(string \\| object)[]</code> - Extra layers appended to the map source defaults (drawn on top). <code>showLayerControl</code> <code>boolean</code> <code>false</code> Enable the layer switcher control. <code>showColorPicker</code> <code>boolean</code> <code>false</code> Enable the color picker control. <code>queryable</code> <code>boolean</code> <code>true</code> Enable click interactions (popups + selection). <code>enableClustering</code> <code>boolean</code> <code>false</code> Enable clustering for point features. <code>clusterAllGeometries</code> <code>boolean</code> <code>false</code> Cluster all geometry types (including polygons) using centroids. <code>clusterRadius</code> <code>number</code> <code>50</code> Max cluster radius in pixels. <code>disableClusteringAtZoom</code> <code>number</code> - Zoom level to disable clustering and show individual markers. <code>spiderfyOnMaxZoom</code> <code>boolean</code> <code>true</code> When clicking a cluster at max zoom, spiderfy markers instead of zooming. <code>showCoverageOnHover</code> <code>boolean</code> <code>false</code> Show the bounds of a cluster on hover. <code>zoomToBoundsOnClick</code> <code>boolean</code> <code>true</code> Zoom to bounds of cluster when clicked. <code>animate</code> <code>boolean</code> <code>true</code> Enable/disable cluster animations. <code>chunkedLoading</code> <code>boolean</code> <code>true</code> Load markers in chunks for better performance. <code>removeOutsideVisibleBounds</code> <code>boolean</code> <code>true</code> Remove markers outside viewport for better performance. <code>showSingleFeatures</code> <code>boolean</code> <code>true</code> Show individual markers when not clustered. Set to <code>false</code> for density-only views. <code>hideAtZoom</code> <code>number</code> - Hide all features when zoomed in beyond this level. <p>Example</p> <pre><code>{\n  \"type\": \"map\",\n  \"title\": \"Main Map\",\n  \"dataSource\": \"my-data\",\n  \"options\": {\n    \"center\": [59.3293, 18.0686],\n    \"zoom\": 10,\n    \"enableClustering\": true,\n    \"clusterAllGeometries\": true,\n    \"markerColor\": \"#e74c3c\",\n    \"mapSource\": \"osm\",\n    \"showLayerControl\": true\n  }\n}\n</code></pre>"},{"location":"widgets/#table-widget-table","title":"Table Widget (<code>table</code>)","text":"<p>Displays a sortable, paginated table of feature properties. Supports column filtering and searching.</p> <p>Options (<code>options</code>)</p> Property Type Default Description <code>columns</code> <code>string[]</code> All List of property keys to display as columns. <code>sortable</code> <code>boolean</code> <code>true</code> Enable column sorting. <code>pageSize</code> <code>number</code> <code>50</code> Number of rows per page. <p>Example</p> <pre><code>{\n  \"type\": \"table\",\n  \"title\": \"Feature List\",\n  \"dataSource\": \"my-data\",\n  \"options\": {\n    \"columns\": [\"id\", \"name\", \"category\", \"date_created\"]\n  }\n}\n</code></pre>"},{"location":"widgets/#counter-widget-counter","title":"Counter Widget (<code>counter</code>)","text":"<p>Displays a simple count of features, optionally filtered or unique.</p> <p>Options (<code>options</code>)</p> Property Type Default Description <code>label</code> <code>string</code> - Subtitle/label below the count. <code>icon</code> <code>string</code> - Optional emoji or icon class. <code>uniqueBy</code> <code>string</code> - Property key to count unique values (deduplication). <p>Example</p> <pre><code>{\n  \"type\": \"counter\",\n  \"title\": \"Total Projects\",\n  \"dataSource\": \"my-data\",\n  \"options\": {\n    \"label\": \"Active Projects\",\n    \"icon\": \"\ud83c\udfd7\ufe0f\",\n    \"uniqueBy\": \"project_id\"\n  }\n}\n</code></pre>"},{"location":"widgets/#area-widget-area","title":"Area Widget (<code>area</code>)","text":"<p>Calculates the total area of polygon features.</p> <p>Options (<code>options</code>)</p> Property Type Default Description <code>label</code> <code>string</code> - Label for the area value. <code>unit</code> <code>'ha' \\| 'km\u00b2' \\| 'm\u00b2'</code> <code>'ha'</code> Unit of measurement. <code>precision</code> <code>number</code> <code>2</code> Number of decimal places. <p>Example</p> <pre><code>{\n  \"type\": \"area\",\n  \"title\": \"Total Land Area\",\n  \"dataSource\": \"my-data\",\n  \"options\": {\n    \"unit\": \"ha\",\n    \"precision\": 1,\n    \"label\": \"Hectares\"\n  }\n}\n</code></pre>"},{"location":"widgets/#length-widget-length","title":"Length Widget (<code>length</code>)","text":"<p>Calculates the total length of line features.</p> <p>Options (<code>options</code>)</p> Property Type Default Description <code>label</code> <code>string</code> - Label for the length value. <code>unit</code> <code>'m' \\| 'km' \\| 'mil'</code> <code>'km'</code> Unit of measurement. <code>precision</code> <code>number</code> <code>2</code> Number of decimal places. <code>groupBy</code> <code>string</code> - Attribute to group the length by. <code>filterValues</code> <code>string[]</code> - Only include these specific <code>groupBy</code> values. <p>Example</p> <pre><code>{\n  \"type\": \"length\",\n  \"title\": \"Road Network\",\n  \"dataSource\": \"roads\",\n  \"options\": {\n    \"unit\": \"km\",\n    \"groupBy\": \"road_type\"\n  }\n}\n</code></pre>"},{"location":"widgets/#statistics-widget-statistics","title":"Statistics Widget (<code>statistics</code>)","text":"<p>Displays multiple calculated statistics (sum or count) based on feature attributes.</p> <p>Options (<code>options</code>)</p> Property Type Default Description <code>statistics</code> <code>StatisticsItem[]</code> - Array of statistics to calculate. <code>groupBy</code> <code>string</code> - Optional attribute to group/pivot by. <code>groupByDate</code> <code>DateGroupingConfig</code> - Optional date grouping configuration. <code>filterValues</code> <code>string[]</code> - Optional: only include these groupBy values. <code>uniqueBy</code> <code>string</code> - Optional: deduplicate features by this attribute before calculating statistics. <p>StatisticsItem Structure</p> Property Type Description <code>id</code> <code>string</code> Unique ID. <code>label</code> <code>string</code> Display label. <code>attribute</code> <code>string</code> Feature property to operate on (<code>*</code> for all). <code>operation</code> <code>'sum' \\| 'count'</code> Aggregation method. <code>unit</code> <code>string</code> Suffix for the value (e.g., \"pcs\"). <code>precision</code> <code>number</code> Number of decimal places. <p>DateGroupingConfig Structure</p> Property Type Description <code>dateField</code> <code>string</code> The date field to use for grouping. <code>intervalDays</code> <code>number</code> Number of days per interval. <code>maxIntervals</code> <code>number</code> Optional: Maximum number of intervals to show. <p>Example</p> <pre><code>{\n  \"type\": \"statistics\",\n  \"title\": \"Project Stats\",\n  \"dataSource\": \"projects\",\n  \"options\": {\n    \"groupByDate\": {\n      \"dateField\": \"created_at\",\n      \"intervalDays\": 7,\n      \"maxIntervals\": 4\n    },\n    \"statistics\": [\n      {\n        \"id\": \"total_cost\",\n        \"label\": \"Total Cost\",\n        \"attribute\": \"budget\",\n        \"operation\": \"sum\",\n        \"unit\": \"SEK\"\n      }\n    ]\n  }\n}\n</code></pre>"},{"location":"widgets/#line-chart-widget-linechart","title":"Line Chart Widget (<code>linechart</code>)","text":"<p>Visualizes data trends over time.</p> <p>Options (<code>options</code>)</p> Property Type Default Description <code>dateField</code> <code>string</code> - The timestamp field to use for the X-axis. <code>valueField</code> <code>string</code> - Optional field to sum (defaults to count). <code>operation</code> <code>'count' \\| 'sum' \\| 'mean' \\| 'median' \\| 'max' \\| 'min'</code> <code>'count'</code> Aggregation method. <code>defaultGranularity</code> <code>'day' \\| 'week' \\| 'month' \\| 'year'</code> <code>'week'</code> Default time interval. <code>groupBy</code> <code>string</code> - Optional attribute to create multiple lines. <code>label</code> <code>string</code> - Y-axis label. <code>lineColor</code> <code>string</code> <code>'#3b82f6'</code> Line color. <code>showDots</code> <code>boolean</code> <code>true</code> Show data points. <code>compact</code> <code>boolean</code> <code>false</code> Compact mode for sidebar. <code>uniqueBy</code> <code>string</code> - Optional: deduplicate features by this attribute. <code>groupColors</code> <code>string[]</code> - Optional: custom color palette for groups. <code>filterField</code> <code>string</code> - Optional: attribute field to filter on. <code>filterValues</code> <code>string[]</code> - Optional: only include features where <code>filterField</code> matches one of these values. <code>yAxisAutoScale</code> <code>boolean</code> <code>false</code> Optional: auto-scale Y-axis to data range. <p>Example</p> <pre><code>{\n  \"type\": \"linechart\",\n  \"title\": \"Applications per Month\",\n  \"dataSource\": \"applications\",\n  \"options\": {\n    \"dateField\": \"submission_date\",\n    \"defaultGranularity\": \"month\",\n    \"groupBy\": \"status\",\n    \"groupColors\": [\"#3b82f6\", \"#ef4444\", \"#10b981\"]\n  }\n}\n</code></pre>"},{"location":"widgets/#area-chart-widget-areachart","title":"Area Chart Widget (<code>areachart</code>)","text":"<p>Visualizes data trends over time as filled areas. Supports stacking for grouped data and configurable curve interpolation. Inherits all options from <code>linechart</code>.</p> <p>Options (<code>options</code>)</p> Property Type Default Description <code>dateField</code> <code>string</code> - The timestamp field to use for the X-axis. <code>valueField</code> <code>string</code> - Optional field to aggregate (defaults to count). <code>operation</code> <code>'count' \\| 'sum' \\| 'mean' \\| 'median' \\| 'max' \\| 'min'</code> <code>'count'</code> Aggregation method. <code>defaultGranularity</code> <code>'day' \\| 'week' \\| 'month' \\| 'year'</code> <code>'week'</code> Default time interval. <code>groupBy</code> <code>string</code> - Optional attribute to create multiple areas. <code>stacked</code> <code>boolean</code> <code>false</code> Stack areas on top of each other (requires <code>groupBy</code>). <code>curveType</code> <code>'monotone' \\| 'linear' \\| 'step' \\| 'stepBefore' \\| 'stepAfter' \\| 'natural'</code> <code>'monotone'</code> Interpolation curve type. Use <code>linear</code> for straight lines between points. <code>label</code> <code>string</code> <code>'Antal'</code> Y-axis label. <code>lineColor</code> <code>string</code> <code>'#3b82f6'</code> Area stroke/fill color (single area mode). <code>showDots</code> <code>boolean</code> <code>true</code> Show data points. <code>compact</code> <code>boolean</code> <code>false</code> Compact mode for sidebar. <code>uniqueBy</code> <code>string</code> - Optional: deduplicate features by this attribute. <code>groupColors</code> <code>string[]</code> - Optional: custom color palette for groups. <code>filterField</code> <code>string</code> - Optional: attribute field to filter on. <code>filterValues</code> <code>string[]</code> - Optional: only include features where <code>filterField</code> matches one of these values. <code>yAxisAutoScale</code> <code>boolean</code> <code>false</code> Auto-scale Y-axis to data range instead of starting from 0. <p>Example (Basic)</p> <pre><code>{\n  \"type\": \"areachart\",\n  \"title\": \"Registrations Over Time\",\n  \"dataSource\": \"registrations\",\n  \"options\": {\n    \"dateField\": \"created_date\",\n    \"defaultGranularity\": \"month\",\n    \"lineColor\": \"#8b5cf6\",\n    \"curveType\": \"linear\"\n  }\n}\n</code></pre> <p>Example (Stacked by Group)</p> <pre><code>{\n  \"type\": \"areachart\",\n  \"title\": \"Applications by Municipality\",\n  \"dataSource\": \"applications\",\n  \"options\": {\n    \"dateField\": \"submission_date\",\n    \"groupBy\": \"municipality\",\n    \"stacked\": true,\n    \"curveType\": \"linear\",\n    \"defaultGranularity\": \"week\",\n    \"groupColors\": [\"#4ade80\", \"#60a5fa\", \"#f472b6\"]\n  }\n}\n</code></pre>"},{"location":"widgets/#pie-chart-widget-piechart","title":"Pie Chart Widget (<code>piechart</code>)","text":"<p>Displays distribution of data based on a grouping attribute.</p> <p>Options (<code>options</code>)</p> Property Type Default Description <code>groupBy</code> <code>string</code> - Attribute to group by (creates segments). <code>operation</code> <code>'count' \\| 'sum' \\| 'length' \\| 'area'</code> <code>'count'</code> Aggregation method. <code>valueField</code> <code>string</code> - Field to sum (if operation is <code>sum</code>). <code>unit</code> <code>string</code> - Optional: unit for length/area. <code>precision</code> <code>number</code> - Optional: decimal places for length/area. <code>colors</code> <code>string[]</code> - Optional: custom color palette. <code>showLabels</code> <code>boolean</code> <code>true</code> Show percentage labels on segments. <code>compact</code> <code>boolean</code> <code>false</code> Compact mode for sidebar. <code>uniqueBy</code> <code>string</code> - Optional: deduplicate features by this attribute. <code>filterValues</code> <code>string[]</code> - Optional: only include these groupBy values. <code>innerRadius</code> <code>number</code> <code>0</code> Percentage (0-100) for donut style. <code>showLegend</code> <code>boolean</code> <code>true</code> Whether to show the legend. <p>Example</p> <pre><code>{\n  \"type\": \"piechart\",\n  \"title\": \"Status Distribution\",\n  \"dataSource\": \"tasks\",\n  \"options\": {\n    \"groupBy\": \"status\",\n    \"innerRadius\": 50,\n    \"colors\": [\"#3b82f6\", \"#ef4444\", \"#10b981\"]\n  }\n}\n</code></pre>"},{"location":"widgets/#population-pyramid-widget-populationpyramid","title":"Population Pyramid Widget (<code>populationpyramid</code>)","text":"<p>Specialized chart for displaying age and gender distribution.</p> <p>Options (<code>options</code>)</p> Property Type Default Description <code>genderField</code> <code>string</code> - Field containing gender data. <code>ageField</code> <code>string</code> - Field containing age data. <code>maleValue</code> <code>string</code> <code>\"M\"</code> Value representing male in <code>genderField</code>. <code>femaleValue</code> <code>string</code> <code>\"K\"</code> Value representing female in <code>genderField</code>. <code>maleLabel</code> <code>string</code> <code>\"M\u00e4n\"</code> Display label for males. <code>femaleLabel</code> <code>string</code> <code>\"Kvinnor\"</code> Display label for females. <code>ageInterval</code> <code>number</code> <code>5</code> Size of age buckets. <code>maxAge</code> <code>number</code> <code>100</code> Max age before \"X+\" group. <code>maleColor</code> <code>string</code> <code>\"#3b82f6\"</code> Color for male bars. <code>femaleColor</code> <code>string</code> <code>\"#ec4899\"</code> Color for female bars. <code>showPercentage</code> <code>boolean</code> <code>true</code> Show percentage alongside counts. <code>domainPadding</code> <code>number</code> <code>0.1</code> Buffer percentage for chart edges. <code>xAxisFormat</code> <code>'count' \\| 'percent'</code> <code>'count'</code> X-axis format. <code>compact</code> <code>boolean</code> - Compact mode for sidebar. <p>Example</p> <pre><code>{\n  \"type\": \"populationpyramid\",\n  \"title\": \"Demographics\",\n  \"dataSource\": \"population\",\n  \"options\": {\n    \"genderField\": \"KON\",\n    \"ageField\": \"ALDER\",\n    \"maleValue\": \"M\",\n    \"femaleValue\": \"K\",\n    \"maxAge\": 90,\n    \"xAxisFormat\": \"percent\"\n  }\n}\n</code></pre>"},{"location":"widgets/clustering/","title":"Clustering","text":""},{"location":"widgets/clustering/#map-clustering-guide","title":"Map Clustering Guide","text":"<p>This guide explains how to use the marker clustering feature to improve map performance when displaying large numbers of point features.</p>"},{"location":"widgets/clustering/#what-is-clustering","title":"What is Clustering?","text":"<p>Clustering automatically groups nearby point markers together at lower zoom levels, displaying a cluster icon with a count. As you zoom in, clusters expand to show individual markers. This significantly improves performance when rendering 1000+ point features.</p>"},{"location":"widgets/clustering/#enabling-clustering","title":"Enabling Clustering","text":"<p>To enable clustering on a map widget, add the <code>enableClustering</code> option to your map widget configuration:</p> <pre><code>{\n  \"type\": \"map\",\n  \"title\": \"My Map\",\n  \"dataSource\": \"myDataSource\",\n  \"options\": {\n    \"enableClustering\": true,\n    \"center\": [62.5, 14.5],\n    \"zoom\": 8\n  }\n}\n</code></pre>"},{"location":"widgets/clustering/#configuration-options","title":"Configuration Options","text":""},{"location":"widgets/clustering/#basic-configuration","title":"Basic Configuration","text":"<pre><code>{\n  \"type\": \"map\",\n  \"title\": \"Map with Clustering\",\n  \"dataSource\": \"myDataSource\",\n  \"options\": {\n    \"enableClustering\": true\n  }\n}\n</code></pre>"},{"location":"widgets/clustering/#advanced-clustering-options","title":"Advanced Clustering Options","text":"<p>All clustering options are optional. When not specified, optimized defaults are used.</p> Option Type Default Description <code>enableClustering</code> boolean <code>false</code> Enable/disable clustering (must be <code>true</code> to activate) <code>clusterAllGeometries</code> boolean <code>false</code> Cluster all geometry types using centroids (not just points) <code>clusterRadius</code> number <code>50</code> Maximum radius (px) a cluster covers. Smaller = earlier un-clustering <code>disableClusteringAtZoom</code> number <code>undefined</code> Zoom level at which clustering is disabled (shows all markers) <code>spiderfyOnMaxZoom</code> boolean <code>true</code> Spiderfy (spread out) markers when clicking cluster at max zoom <code>showCoverageOnHover</code> boolean <code>false</code> Show cluster bounds polygon on hover <code>zoomToBoundsOnClick</code> boolean <code>true</code> Zoom to fit cluster bounds when clicked <code>animate</code> boolean <code>true</code> Enable/disable cluster animations <code>chunkedLoading</code> boolean <code>true</code> Load markers in chunks for better performance <code>removeOutsideVisibleBounds</code> boolean <code>true</code> Remove markers outside viewport for performance <code>showSingleFeatures</code> boolean <code>true</code> Show individual (unclustered) markers. When <code>false</code>, only cluster icons are visible <code>hideAtZoom</code> number <code>undefined</code> Hide all features when zoom level is &gt;= this value"},{"location":"widgets/clustering/#full-configuration-example","title":"Full Configuration Example","text":"<pre><code>{\n  \"type\": \"map\",\n  \"title\": \"Advanced Map with Clustering\",\n  \"dataSource\": \"myDataSource\",\n  \"options\": {\n    \"enableClustering\": true,\n    \"clusterRadius\": 40,\n    \"disableClusteringAtZoom\": 14,\n    \"spiderfyOnMaxZoom\": true,\n    \"showCoverageOnHover\": true,\n    \"zoomToBoundsOnClick\": true,\n    \"animate\": true,\n    \"chunkedLoading\": true,\n    \"removeOutsideVisibleBounds\": true,\n    \"center\": [59.3293, 18.0686],\n    \"zoom\": 10,\n    \"markerColor\": \"#e74c3c\",\n    \"showColorPicker\": true,\n    \"mapSource\": \"myCustomMap\"\n  }\n}\n</code></pre>"},{"location":"widgets/clustering/#how-it-works","title":"How It Works","text":""},{"location":"widgets/clustering/#point-geometries-default-behavior","title":"Point Geometries (Default Behavior)","text":"<ul> <li>Point and MultiPoint features are clustered when <code>enableClustering: true</code></li> <li>Clusters show the count of features they contain</li> <li>Click a cluster to zoom in and expand it</li> <li>Popups and feature selection work normally on individual markers</li> </ul>"},{"location":"widgets/clustering/#non-point-geometries-default-behavior","title":"Non-Point Geometries (Default Behavior)","text":"<ul> <li>Polygon, LineString, and MultiPolygon features are rendered normally</li> <li>These geometry types are never clustered by default</li> <li>All features can be displayed together on the same map</li> </ul>"},{"location":"widgets/clustering/#clustering-all-geometry-types-new","title":"Clustering All Geometry Types (New!)","text":"<p>With <code>clusterAllGeometries: true</code>, you can cluster any geometry type including polygons, lines, and other shapes:</p> <ul> <li>How it works: The system computes the centroid (center point) of each geometry</li> <li>What you see: At low zoom levels, all features appear as clustered circle markers at their centroid locations</li> <li>Zoom in: When you reach the <code>disableClusteringAtZoom</code> level, actual polygon/line shapes appear</li> <li>Use cases: Large datasets with mixed geometry types, density visualization, performance optimization</li> </ul> <p>Important: <code>clusterAllGeometries</code> requires <code>enableClustering: true</code> to work.</p>"},{"location":"widgets/clustering/#performance-benefits","title":"Performance Benefits","text":"<ul> <li>Without clustering: Rendering 1000+ points can cause lag and slow map interactions</li> <li>With clustering: Dramatically improves performance by reducing visible markers</li> <li>Optimal for datasets with thousands of point features</li> </ul>"},{"location":"widgets/clustering/#visual-appearance","title":"Visual Appearance","text":"<ul> <li>Cluster markers: Display a count badge with the number of features</li> <li>Individual markers: Rendered as circle markers with your chosen color</li> <li>Selected features: Highlighted in red, rendered on top of clusters</li> <li>Smooth animations: Clusters expand/collapse smoothly when zooming</li> </ul>"},{"location":"widgets/clustering/#best-practices","title":"Best Practices","text":"<ol> <li>Enable for large datasets: Use clustering when displaying 100+ point features</li> <li>Disable for small datasets: Not necessary for fewer than 50 points</li> <li>Combine with time filters: Use time filter sliders to reduce data before rendering</li> <li>Use with spatial filters: Drawing tools work normally with clustered maps</li> </ol>"},{"location":"widgets/clustering/#example-use-cases","title":"Example Use Cases","text":""},{"location":"widgets/clustering/#large-point-dataset","title":"Large Point Dataset","text":"<pre><code>{\n  \"type\": \"map\",\n  \"title\": \"Building Locations\",\n  \"dataSource\": \"buildings\",\n  \"options\": {\n    \"enableClustering\": true,\n    \"zoom\": 8\n  }\n}\n</code></pre>"},{"location":"widgets/clustering/#mixed-geometry-types-default","title":"Mixed Geometry Types (Default)","text":"<pre><code>{\n  \"type\": \"map\",\n  \"title\": \"Mixed Features\",\n  \"dataSource\": \"mixedData\",\n  \"options\": {\n    \"enableClustering\": true\n  }\n}\n</code></pre> <p>Points will be clustered; polygons and lines will render normally.</p>"},{"location":"widgets/clustering/#cluster-all-geometries-polygons-lines-etc","title":"Cluster All Geometries (Polygons, Lines, etc.)","text":"<pre><code>{\n  \"type\": \"map\",\n  \"title\": \"Cluster Everything\",\n  \"dataSource\": \"allGeometries\",\n  \"options\": {\n    \"enableClustering\": true,\n    \"clusterAllGeometries\": true,\n    \"disableClusteringAtZoom\": 14,\n    \"zoom\": 8\n  }\n}\n</code></pre> <p>All geometry types (points, polygons, lines) are clustered using their centroids. At zoom 14+, actual shapes appear.</p>"},{"location":"widgets/clustering/#without-clustering-default","title":"Without Clustering (Default)","text":"<pre><code>{\n  \"type\": \"map\",\n  \"title\": \"Simple Map\",\n  \"dataSource\": \"myData\",\n  \"options\": {\n    \"zoom\": 10\n  }\n}\n</code></pre> <p>Clustering is opt-in and disabled by default.</p>"},{"location":"widgets/clustering/#clustering-all-geometry-types","title":"Clustering All Geometry Types","text":""},{"location":"widgets/clustering/#overview","title":"Overview","text":"<p>By default, only Point and MultiPoint geometries are clustered. However, with <code>clusterAllGeometries: true</code>, you can cluster any geometry type including polygons, lines, and complex shapes.</p>"},{"location":"widgets/clustering/#how-it-works_1","title":"How It Works","text":"<p>When <code>clusterAllGeometries</code> is enabled:</p> <ol> <li>Centroid Calculation: The system computes the bounding box center (centroid) for each feature</li> <li>Low Zoom (Clustered): All features appear as circle markers at their centroid locations</li> <li>High Zoom (Unclustered): When you reach <code>disableClusteringAtZoom</code>, actual geometry shapes appear</li> </ol>"},{"location":"widgets/clustering/#configuration","title":"Configuration","text":"<pre><code>{\n  \"type\": \"map\",\n  \"title\": \"Cluster All Geometries\",\n  \"dataSource\": \"myDataSource\",\n  \"options\": {\n    \"enableClustering\": true,\n    \"clusterAllGeometries\": true,\n    \"disableClusteringAtZoom\": 14,\n    \"zoom\": 8\n  }\n}\n</code></pre> <p>Key Points: - Requires <code>enableClustering: true</code> - Works best with <code>disableClusteringAtZoom</code> set (otherwise shapes never appear) - Centroids are computed from bounding box centers (fast and predictable)</p>"},{"location":"widgets/clustering/#rendering-behavior","title":"Rendering Behavior","text":"<p>When clustered (zoom &lt; disableClusteringAtZoom): - All features shown as circle markers at centroids - Polygons/lines NOT rendered as shapes - Clusters show accurate total counts - Clicking a cluster zooms in</p> <p>When unclustered (zoom &gt;= disableClusteringAtZoom): - Point features: remain as circle markers - Polygon/line features: rendered as actual shapes - All features fully interactive</p>"},{"location":"widgets/clustering/#use-cases","title":"Use Cases","text":"<ol> <li>Large Polygon Datasets: Cluster thousands of building footprints or parcels</li> <li>Mixed Data: Combine points, lines, and polygons in one clustered view</li> <li>Performance: Dramatically reduce rendering load for complex geometries</li> <li>Density Visualization: Show feature distribution without visual clutter</li> <li>Progressive Detail: Show overview first, then reveal details on zoom</li> </ol>"},{"location":"widgets/clustering/#example-large-building-dataset","title":"Example: Large Building Dataset","text":"<pre><code>{\n  \"type\": \"map\",\n  \"title\": \"Building Clusters\",\n  \"dataSource\": \"buildings\",\n  \"options\": {\n    \"enableClustering\": true,\n    \"clusterAllGeometries\": true,\n    \"clusterRadius\": 60,\n    \"disableClusteringAtZoom\": 15,\n    \"showSingleFeatures\": true,\n    \"markerColor\": \"#f59e0b\",\n    \"zoom\": 10\n  }\n}\n</code></pre> <p>Behavior: - Zoom 0-14: Buildings shown as clustered dots at their centers - Zoom 15+: Actual building polygons appear - Smooth transition between views</p>"},{"location":"widgets/clustering/#centroid-computation","title":"Centroid Computation","text":"<p>The centroid algorithm: - Simple &amp; Fast: Uses bounding box center, not true geometric centroid - Predictable: Centroid is always within bounding box (though may be outside concave polygons) - All Types Supported: Point, LineString, Polygon, MultiPoint, MultiLineString, MultiPolygon, GeometryCollection</p>"},{"location":"widgets/clustering/#best-practices_1","title":"Best Practices","text":"<ol> <li>Always set <code>disableClusteringAtZoom</code>: Without it, shapes never appear</li> <li>Choose appropriate zoom level: Balance between performance and detail</li> <li>Consider data density: Use for 100+ features, not small datasets</li> <li>Test zoom transitions: Ensure smooth experience when shapes appear</li> <li>Combine with <code>showSingleFeatures: false</code>: For pure density visualization</li> </ol>"},{"location":"widgets/clustering/#advanced-example-privacy-protected-parcels","title":"Advanced Example: Privacy-Protected Parcels","text":"<pre><code>{\n  \"type\": \"map\",\n  \"title\": \"Land Parcels (Privacy Protected)\",\n  \"dataSource\": \"parcels\",\n  \"options\": {\n    \"enableClustering\": true,\n    \"clusterAllGeometries\": true,\n    \"showSingleFeatures\": false,\n    \"disableClusteringAtZoom\": 16,\n    \"hideAtZoom\": 18,\n    \"clusterRadius\": 70,\n    \"queryable\": false,\n    \"zoom\": 9\n  }\n}\n</code></pre> <p>Result: - Shows only cluster icons (never individual shapes) - Actual parcels appear at zoom 16-17 - All features hidden at zoom 18+ - No click interactions</p>"},{"location":"widgets/clustering/#technical-details","title":"Technical Details","text":"<ul> <li>Library: Uses <code>react-leaflet-cluster</code> with <code>leaflet.markercluster</code></li> <li>Default cluster radius: 50 pixels (optimized for earlier un-clustering, library default is 80)</li> <li>Chunked loading: Enabled by default for better performance with large datasets</li> <li>Performance optimizations: Automatic removal of markers outside viewport</li> <li>Centroid algorithm: Bounding box center (fast, suitable for all geometry types)</li> <li>Compatible with: All existing map features (popups, selection, filters, etc.)</li> </ul>"},{"location":"widgets/clustering/#hiding-individual-features-show-only-clusters","title":"Hiding Individual Features (Show Only Clusters)","text":"<p>The <code>showSingleFeatures</code> option allows you to hide individual (unclustered) markers while keeping cluster icons visible. This is useful when you want to display density/distribution information without showing exact point locations.</p>"},{"location":"widgets/clustering/#how-it-works_2","title":"How It Works","text":"<p>When <code>showSingleFeatures</code> is set to <code>false</code>: - Individual point markers become invisible (opacity set to 0) - Cluster icons remain fully visible and show accurate counts - The markers still participate in clustering calculations - Feature count at the bottom remains accurate - Popups and interactions are disabled on invisible markers</p> <p>Important: This option only affects point features when clustering is enabled. Non-point geometries (polygons, lines) are always visible.</p>"},{"location":"widgets/clustering/#configuration-example","title":"Configuration Example","text":"<pre><code>{\n  \"type\": \"map\",\n  \"title\": \"Density View (Clusters Only)\",\n  \"dataSource\": \"myDataSource\",\n  \"options\": {\n    \"enableClustering\": true,\n    \"showSingleFeatures\": false,\n    \"clusterRadius\": 40,\n    \"disableClusteringAtZoom\": 14,\n    \"center\": [61.0, 14.5],\n    \"zoom\": 8,\n    \"markerColor\": \"#8b5cf6\"\n  }\n}\n</code></pre> <p>In this example: - Clusters show the count of features they contain - Individual markers are invisible at all zoom levels - When clustering is disabled at zoom 14, all markers become invisible - Cluster counts remain accurate regardless of visibility</p>"},{"location":"widgets/clustering/#use-cases_1","title":"Use Cases","text":"<ol> <li>Privacy Protection: Show general distribution without revealing exact locations</li> <li>Density Visualization: Display data concentration without individual points</li> <li>Overview Maps: Focus on patterns and trends rather than specific features</li> <li>Performance: Reduce visual clutter when exact locations aren't needed</li> <li>Heat Map Alternative: Use cluster counts to show density</li> </ol>"},{"location":"widgets/clustering/#comparison-with-vs-without-single-features","title":"Comparison: With vs Without Single Features","text":"<p>Default (<code>showSingleFeatures: true</code>): - Zoom 0-13: Clusters visible with aggregated counts - Zoom 14+: Individual markers visible (clustering disabled) - Full interactivity at all zoom levels</p> <p>Hide Single Features (<code>showSingleFeatures: false</code>): - Zoom 0-13: Only clusters visible - Zoom 14+: No markers visible (but count remains accurate) - Interactivity limited to cluster clicks</p>"},{"location":"widgets/clustering/#best-practices_2","title":"Best Practices","text":"<ol> <li>Always enable clustering: <code>showSingleFeatures: false</code> only makes sense with clustering enabled</li> <li>Set appropriate <code>disableClusteringAtZoom</code>: Consider if you want features to disappear at higher zoom levels</li> <li>Combine with <code>hideAtZoom</code>: For additional privacy/control at extreme zoom levels</li> <li>Inform users: Consider adding a note that individual features are hidden for privacy/clarity</li> </ol>"},{"location":"widgets/clustering/#advanced-example-privacy-focused-map","title":"Advanced Example: Privacy-Focused Map","text":"<pre><code>{\n  \"type\": \"map\",\n  \"title\": \"Population Distribution (Privacy Protected)\",\n  \"dataSource\": \"population-data\",\n  \"options\": {\n    \"enableClustering\": true,\n    \"showSingleFeatures\": false,\n    \"clusterRadius\": 60,\n    \"disableClusteringAtZoom\": 16,\n    \"hideAtZoom\": 18,\n    \"queryable\": false,\n    \"center\": [59.3293, 18.0686],\n    \"zoom\": 10\n  }\n}\n</code></pre> <p>This configuration: - Shows only cluster icons (never individual points) - Maintains clustering until zoom level 16 - Hides all features at zoom level 18 - Disables click interactions (<code>queryable: false</code>)</p>"},{"location":"widgets/clustering/#hiding-features-at-high-zoom-levels","title":"Hiding Features at High Zoom Levels","text":"<p>The <code>hideAtZoom</code> option allows you to hide all map features when users zoom in too close. This is useful for privacy concerns, data sensitivity, or when features become irrelevant at very close zoom levels.</p>"},{"location":"widgets/clustering/#how-it-works_3","title":"How It Works","text":"<p>When the current zoom level is greater than or equal to the <code>hideAtZoom</code> value: - All features (points, polygons, lines) are hidden from the map - A blue notification message appears: \"Features hidden at this zoom level. Zoom out to view.\" - The feature count at the bottom-left remains visible, showing the total number of features - Clustering (if enabled) remains configured and will work when zooming back out</p>"},{"location":"widgets/clustering/#configuration-example_1","title":"Configuration Example","text":"<pre><code>{\n  \"type\": \"map\",\n  \"title\": \"Map with Zoom Restriction\",\n  \"dataSource\": \"myDataSource\",\n  \"options\": {\n    \"enableClustering\": true,\n    \"hideAtZoom\": 16,\n    \"center\": [59.3293, 18.0686],\n    \"zoom\": 10\n  }\n}\n</code></pre> <p>In this example: - Features are visible at zoom levels 0-15 - Features are hidden at zoom level 16 and above - Users can still pan and zoom, but features won't display until they zoom out</p>"},{"location":"widgets/clustering/#use-cases_2","title":"Use Cases","text":"<ol> <li>Privacy Protection: Hide detailed building/parcel data at street level</li> <li>Data Sensitivity: Prevent viewing of sensitive locations at close zoom</li> <li>Performance: Reduce rendering load at extreme zoom levels where features overlap</li> <li>Map Clarity: Prevent visual clutter when zoomed in too far</li> </ol>"},{"location":"widgets/clustering/#combining-with-clustering","title":"Combining with Clustering","text":"<p>The <code>hideAtZoom</code> option works seamlessly with clustering:</p> <pre><code>{\n  \"type\": \"map\",\n  \"title\": \"Clustered Map with Zoom Limit\",\n  \"dataSource\": \"buildings\",\n  \"options\": {\n    \"enableClustering\": true,\n    \"clusterRadius\": 50,\n    \"disableClusteringAtZoom\": 14,\n    \"hideAtZoom\": 16,\n    \"zoom\": 8\n  }\n}\n</code></pre> <p>Behavior: - Zoom 0-13: Features are clustered - Zoom 14-15: Clusters disabled, all markers visible - Zoom 16+: All features hidden</p>"},{"location":"widgets/clustering/#visual-feedback","title":"Visual Feedback","text":"<p>When features are hidden: - A blue information banner appears at the top of the map - The banner includes an information icon and clear message - The feature count remains visible (e.g., \"Showing 1,234 features\") - The map background and controls remain functional</p>"},{"location":"widgets/clustering/#troubleshooting","title":"Troubleshooting","text":""},{"location":"widgets/clustering/#map-feels-slow-with-many-features","title":"Map feels slow with many features?","text":"<ul> <li>Enable clustering: <code>\"enableClustering\": true</code></li> <li>Consider using time filters to reduce data</li> <li>Adjust <code>maxFeatures</code> in your data source configuration</li> </ul>"},{"location":"widgets/clustering/#clusters-not-appearing","title":"Clusters not appearing?","text":"<ul> <li>Verify <code>\"enableClustering\": true</code> is set</li> <li>Check that you have Point or MultiPoint geometries</li> <li>Polygons and lines are never clustered</li> </ul>"},{"location":"widgets/clustering/#feature-selection-not-working","title":"Feature selection not working?","text":"<ul> <li>Feature selection works with clusters - ensure you've zoomed in enough to see individual markers</li> <li>Selected features are highlighted in red on top of clusters</li> </ul>"},{"location":"widgets/clustering/#future-enhancements","title":"Future Enhancements","text":"<p>Possible future improvements: - Configurable cluster radius - Custom cluster icon styling - Cluster popup showing aggregate statistics - Per-cluster color coding based on attributes</p>"}]}